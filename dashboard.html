<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KXON â€” Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800;900&family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/dashboard-layout.css">
    <link rel="stylesheet" href="css/dashboard-panels.css">
    <link rel="stylesheet" href="css/dashboard-player.css">
    <link rel="stylesheet" href="css/dashboard-modals.css">
    <link rel="stylesheet" href="css/dashboard-marketplace.css">
    <link rel="stylesheet" href="css/dashboard-videos.css">
    <link rel="stylesheet" href="css/dashboard-perfil.css">
    <link rel="stylesheet" href="css/dashboard-responsive.css">
    <link rel="stylesheet" href="css/dashboard-favs-share.css">
    <link rel="stylesheet" href="css/dashboard-analytics.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <meta name="theme-color" content="#0a0a0a">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KXON">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <style>
    /* ============================================
       ðŸŽ¶ PLAYLISTS - ESTILOS
       ============================================ */
    .pl-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}
    .pl-card{background:var(--negro-card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radio-md);overflow:hidden;transition:var(--trans-suave);animation:fadeInUp .5s ease both;cursor:pointer}
    .pl-card:hover{border-color:rgba(192,192,192,.12);box-shadow:0 0 20px rgba(192,192,192,.06);transform:translateY(-4px)}
    .pl-card-new{border:2px dashed rgba(255,255,255,.08);background:transparent;display:flex;align-items:center;justify-content:center;min-height:200px}
    .pl-card-new:hover{border-color:rgba(192,192,192,.25);background:rgba(192,192,192,.03)}
    .pl-card-new-inner{display:flex;flex-direction:column;align-items:center;gap:12px}
    .pl-card-new-icon{font-size:2rem;color:var(--plata-oscura);width:50px;height:50px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:50%;display:flex;align-items:center;justify-content:center;transition:var(--trans-normal)}
    .pl-card-new:hover .pl-card-new-icon{color:var(--plata-blanca);background:rgba(192,192,192,.1);border-color:rgba(192,192,192,.3)}
    .pl-card-new-text{font-family:var(--font-titulo);font-size:.75rem;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--plata-oscura);transition:color .3s ease}
    .pl-card-new:hover .pl-card-new-text{color:var(--plata-clara)}
    .pl-card-cover{width:100%;aspect-ratio:1;overflow:hidden;position:relative}
    .pl-card-cover img{width:100%;height:100%;object-fit:cover;transition:var(--trans-lenta)}
    .pl-card:hover .pl-card-cover img{transform:scale(1.05)}
    .pl-card-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(5,5,5,.5);display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--trans-normal)}
    .pl-card:hover .pl-card-overlay{opacity:1}
    .pl-card-overlay-icon{width:46px;height:46px;background:rgba(5,5,5,.7);border:1px solid rgba(192,192,192,.3);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1rem;color:var(--plata-blanca);backdrop-filter:blur(10px)}
    .pl-card-del{position:absolute;top:10px;right:10px;width:28px;height:28px;background:rgba(255,71,87,.8);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7rem;color:#fff;z-index:5;transition:var(--trans-normal);backdrop-filter:blur(5px);cursor:pointer;border:none;opacity:0}
    .pl-card:hover .pl-card-del{opacity:1}
    .pl-card-del:hover{background:var(--acento-error);transform:scale(1.1)}
    .pl-card-body{padding:16px}
    .pl-card-title{font-family:var(--font-titulo);font-size:.95rem;font-weight:700;color:var(--plata-titulo);margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .pl-card-meta{font-size:.72rem;color:var(--plata-oscura);font-weight:500}

    /* â”€â”€ Detalle Playlist â”€â”€ */
    .pl-detail{display:none;animation:fadeIn .4s ease}.pl-detail.show{display:block}
    .pl-detail-header{display:flex;gap:24px;margin-bottom:24px;align-items:flex-start}
    .pl-detail-cover{width:180px;height:180px;border-radius:var(--radio-md);overflow:hidden;flex-shrink:0;border:1px solid rgba(255,255,255,.08)}
    .pl-detail-cover img{width:100%;height:100%;object-fit:cover}
    .pl-detail-info{flex:1}
    .pl-detail-label{font-size:.62rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--plata-oscura);margin-bottom:8px;font-family:var(--font-titulo)}
    .pl-detail-title{font-family:var(--font-titulo);font-size:1.6rem;font-weight:800;color:var(--plata-blanca);margin-bottom:6px}
    .pl-detail-desc{font-size:.85rem;color:var(--plata-media);font-weight:300;margin-bottom:12px;line-height:1.5}
    .pl-detail-meta{font-size:.72rem;color:var(--plata-oscura);font-weight:500;letter-spacing:1px;text-transform:uppercase;margin-bottom:16px}
    .pl-detail-actions{display:flex;gap:10px;flex-wrap:wrap}
    .pl-detail-btn{padding:10px 20px;border-radius:var(--radio-sm);font-family:var(--font-titulo);font-size:.72rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;cursor:pointer;transition:var(--trans-suave);display:flex;align-items:center;gap:8px;border:none}
    .pl-btn-play{background:linear-gradient(135deg,#2a2a2a,#1a1a1a);color:var(--plata-blanca);border:1px solid rgba(192,192,192,.2)}
    .pl-btn-play:hover{background:linear-gradient(135deg,#c0c0c0,#888);color:var(--negro-base);border-color:var(--acento-principal);transform:translateY(-1px)}
    .pl-btn-shuffle{background:rgba(255,255,255,.04);color:var(--plata-clara);border:1px solid rgba(255,255,255,.08)}
    .pl-btn-shuffle:hover{background:rgba(255,255,255,.08);border-color:rgba(192,192,192,.2)}
    .pl-btn-edit{background:rgba(255,255,255,.04);color:var(--plata-clara);border:1px solid rgba(255,255,255,.08)}
    .pl-btn-edit:hover{background:rgba(255,255,255,.08);border-color:rgba(192,192,192,.2)}

    /* â”€â”€ Modal agregar a playlist â”€â”€ */
    .atp-item{display:flex;align-items:center;gap:12px;padding:12px 16px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);border-radius:var(--radio-sm);margin-bottom:6px;transition:var(--trans-normal);cursor:pointer}
    .atp-item:hover{background:rgba(255,255,255,.05);border-color:rgba(192,192,192,.12)}
    .atp-item.atp-added{opacity:.5;cursor:default}
    .atp-item.atp-added:hover{background:rgba(255,255,255,.02);border-color:rgba(255,255,255,.04)}
    .atp-icon{font-size:1.1rem;flex-shrink:0}
    .atp-name{flex:1;font-size:.88rem;font-weight:600;color:var(--plata-titulo)}
    .atp-badge{font-size:.62rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:3px 10px;border-radius:50px;background:rgba(46,213,115,.1);color:var(--acento-exito);border:1px solid rgba(46,213,115,.2);flex-shrink:0}

    /* â”€â”€ Responsive Playlists â”€â”€ */
    @media(max-width:768px){.pl-grid{grid-template-columns:repeat(2,1fr);gap:12px}.pl-detail-header{flex-direction:column;align-items:center;text-align:center}.pl-detail-cover{width:160px;height:160px}.pl-detail-actions{justify-content:center}}
    @media(max-width:480px){.pl-grid{grid-template-columns:repeat(2,1fr);gap:10px}.pl-card-body{padding:12px}.pl-card-title{font-size:.82rem}}

    /* ============================================
       ðŸ’¬ COMENTARIOS - ESTILOS
       ============================================ */
    .cmt-section{margin-top:24px;padding-top:20px;border-top:1px solid rgba(255,255,255,.06)}
    .cmt-header{display:flex;align-items:center;gap:10px;margin-bottom:16px}
    .cmt-title{font-family:var(--font-titulo);font-size:.88rem;font-weight:700;color:var(--plata-titulo)}
    .cmt-count{padding:2px 10px;background:rgba(192,192,192,.08);border:1px solid rgba(192,192,192,.12);border-radius:50px;font-family:var(--font-titulo);font-size:.65rem;font-weight:700;color:var(--plata-media)}
    .cmt-input-wrap{display:flex;gap:12px;margin-bottom:20px;align-items:flex-start}
    .cmt-input-avatar{width:36px;height:36px;border-radius:50%;background:var(--negro-hover);border:1px solid rgba(192,192,192,.1);display:flex;align-items:center;justify-content:center;font-size:.75rem;color:var(--plata-media);overflow:hidden;flex-shrink:0}
    .cmt-input-box{flex:1}
    .cmt-textarea{width:100%;padding:12px 14px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);border-radius:var(--radio-sm);color:var(--plata-blanca);font-family:var(--font-cuerpo);font-size:.85rem;resize:vertical;min-height:56px;max-height:150px;transition:var(--trans-suave);outline:none}
    .cmt-textarea::placeholder{color:var(--plata-oscura);font-weight:300}
    .cmt-textarea:focus{border-color:rgba(192,192,192,.3);background:rgba(255,255,255,.05);box-shadow:0 0 0 3px rgba(192,192,192,.05)}
    .cmt-input-actions{display:flex;align-items:center;justify-content:space-between;margin-top:8px}
    .cmt-chars{font-size:.68rem;color:var(--plata-oscura);font-weight:500;font-family:var(--font-titulo)}
    .cmt-send-btn{padding:8px 18px;background:linear-gradient(135deg,#2a2a2a,#1a1a1a);border:1px solid rgba(192,192,192,.2);border-radius:6px;color:var(--plata-blanca);font-family:var(--font-titulo);font-size:.7rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:var(--trans-suave)}
    .cmt-send-btn:hover{background:linear-gradient(135deg,#c0c0c0,#888);color:var(--negro-base);border-color:var(--acento-principal);transform:translateY(-1px)}
    .cmt-list{display:flex;flex-direction:column;gap:4px;max-height:350px;overflow-y:auto}
    .cmt-loading,.cmt-empty{text-align:center;padding:24px;font-size:.82rem;color:var(--plata-oscura);font-weight:300}
    .cmt-item{display:flex;gap:12px;padding:14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);border-radius:var(--radio-sm);transition:var(--trans-normal);animation:fadeIn .3s ease}
    .cmt-item:hover{border-color:rgba(192,192,192,.08);background:rgba(255,255,255,.03)}
    .cmt-avatar{width:34px;height:34px;border-radius:50%;background:var(--negro-hover);border:1px solid rgba(192,192,192,.1);display:flex;align-items:center;justify-content:center;font-size:.72rem;color:var(--plata-media);overflow:hidden;flex-shrink:0}
    .cmt-avatar img{width:100%;height:100%;object-fit:cover}
    .cmt-content{flex:1;min-width:0}
    .cmt-item-header{display:flex;align-items:center;gap:10px;margin-bottom:4px}
    .cmt-author{font-family:var(--font-titulo);font-size:.78rem;font-weight:700;color:var(--plata-titulo)}
    .cmt-time{font-size:.65rem;color:var(--plata-oscura)}
    .cmt-del-btn{margin-left:auto;background:none;border:none;font-size:.72rem;cursor:pointer;opacity:0;transition:var(--trans-normal);padding:2px 6px;border-radius:4px}
    .cmt-item:hover .cmt-del-btn{opacity:.5}
    .cmt-del-btn:hover{opacity:1!important;background:rgba(255,71,87,.1)}
    .cmt-text{font-size:.85rem;color:var(--plata-clara);font-weight:300;line-height:1.6;word-break:break-word}
    @media(max-width:480px){.cmt-input-wrap{flex-direction:column}.cmt-input-avatar{display:none}.cmt-avatar{width:28px;height:28px}}

    /* ============================================
       ðŸ“Š PANEL HISTORIAL - ESTILOS
       ============================================ */
    .historial-header-actions {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 24px;
    }
    .historial-clear-btn {
        padding: 8px 18px;
        background: rgba(255,71,87,0.08);
        border: 1px solid rgba(255,71,87,0.2);
        border-radius: var(--radio-sm);
        color: var(--acento-error);
        font-family: var(--font-titulo);
        font-weight: 600;
        font-size: 0.7rem;
        letter-spacing: 1px;
        text-transform: uppercase;
        cursor: pointer;
        transition: var(--trans-suave);
    }
    .historial-clear-btn:hover {
        background: rgba(255,71,87,0.15);
        border-color: rgba(255,71,87,0.35);
        transform: translateY(-1px);
    }
    .historial-date-group {
        margin-bottom: 24px;
    }
    .historial-date-label {
        font-family: var(--font-titulo);
        font-size: 0.72rem;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--plata-oscura);
        margin-bottom: 10px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255,255,255,0.04);
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .historial-date-label::before {
        content: 'ðŸ“…';
        font-size: 0.85rem;
    }
    .historial-track-item {
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 12px 16px;
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: var(--radio-sm);
        transition: var(--trans-suave);
        cursor: pointer;
        margin-bottom: 3px;
    }
    .historial-track-item:hover {
        background: rgba(255,255,255,0.03);
        border-color: rgba(192,192,192,0.1);
    }
    .historial-track-cover {
        width: 42px;
        height: 42px;
        border-radius: 6px;
        overflow: hidden;
        flex-shrink: 0;
        border: 1px solid rgba(255,255,255,0.06);
    }
    .historial-track-cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .historial-track-info {
        flex: 1;
        min-width: 0;
    }
    .historial-track-title {
        font-size: 0.88rem;
        font-weight: 600;
        color: var(--plata-titulo);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .historial-track-meta {
        font-size: 0.7rem;
        color: var(--plata-oscura);
        margin-top: 2px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .historial-track-time {
        font-size: 0.68rem;
        color: var(--plata-oscura);
        font-weight: 500;
        flex-shrink: 0;
        font-family: var(--font-titulo);
        letter-spacing: 0.5px;
    }

    /* â”€â”€ CONTADOR REPRODUCCIONES VISIBLE â”€â”€ */
    .track-plays {
        font-size: 0.65rem;
        color: var(--plata-oscura);
        font-weight: 600;
        font-family: var(--font-titulo);
        letter-spacing: 0.5px;
        display: flex;
        align-items: center;
        gap: 4px;
        flex-shrink: 0;
        min-width: 55px;
        justify-content: flex-end;
    }
    .track-plays .plays-fire {
        font-size: 0.7rem;
    }
    .track-plays.popular {
        color: var(--acento-dorado);
    }
    .radio-queue-plays {
        font-size: 0.62rem;
        color: var(--plata-oscura);
        font-weight: 500;
        margin-top: 2px;
        display: flex;
        align-items: center;
        gap: 3px;
    }

    /* â”€â”€ HISTORIAL STATS â”€â”€ */
    .historial-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 12px;
        margin-bottom: 28px;
    }
    .historial-stat {
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: var(--radio-md);
        padding: 18px;
        text-align: center;
        transition: var(--trans-suave);
    }
    .historial-stat:hover {
        border-color: rgba(192,192,192,0.1);
    }
    .historial-stat-value {
        font-family: var(--font-titulo);
        font-size: 1.4rem;
        font-weight: 800;
        color: var(--plata-blanca);
        margin-bottom: 4px;
    }
    .historial-stat-label {
        font-size: 0.65rem;
        font-weight: 600;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--plata-oscura);
    }

    /* â”€â”€ RESPONSIVE HISTORIAL â”€â”€ */
    @media (max-width: 768px) {
        .historial-stats {
            grid-template-columns: repeat(2, 1fr);
        }
        .historial-header-actions {
            flex-direction: column;
            align-items: flex-start;
        }
    }
    @media (max-width: 480px) {
        .historial-stats {
            grid-template-columns: 1fr;
        }
    }

    /* ============================================
       ðŸ”’ SISTEMA DE LANZAMIENTO PROGRAMADO
       ============================================ */
    .card.album-locked {
        position: relative;
        cursor: default;
    }
    .card.album-locked .card-img::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.65);
        backdrop-filter: blur(4px);
        z-index: 2;
    }
    .card.album-locked .card-overlay {
        display: none;
    }
    .album-lock-badge {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 5;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        text-align: center;
        pointer-events: none;
    }
    .album-lock-icon {
        font-size: 2.2rem;
        filter: drop-shadow(0 0 10px rgba(0,0,0,.5));
        animation: lockPulse 2s ease-in-out infinite;
    }
    .album-lock-date {
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--plata-blanca);
        background: rgba(0, 0, 0, 0.7);
        padding: 5px 14px;
        border-radius: 50px;
        border: 1px solid rgba(192, 192, 192, 0.2);
        backdrop-filter: blur(10px);
        white-space: nowrap;
    }
    .album-lock-countdown {
        font-family: var(--font-titulo);
        font-size: .58rem;
        font-weight: 600;
        letter-spacing: 1px;
        color: var(--acento-dorado);
        background: rgba(255, 215, 0, 0.08);
        padding: 3px 10px;
        border-radius: 50px;
        border: 1px solid rgba(255, 215, 0, 0.15);
    }

    .track-item.track-locked {
        opacity: 0.45;
        cursor: not-allowed;
        pointer-events: none;
        position: relative;
    }
    .track-item.track-locked .track-play-btn {
        display: none;
    }
    .track-lock-info {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-left: auto;
        flex-shrink: 0;
    }
    .track-lock-icon {
        font-size: 1rem;
    }
    .track-lock-date {
        font-family: var(--font-titulo);
        font-size: .6rem;
        font-weight: 700;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--plata-oscura);
        background: rgba(255, 255, 255, 0.04);
        padding: 3px 10px;
        border-radius: 50px;
        border: 1px solid rgba(255, 255, 255, 0.06);
        white-space: nowrap;
    }

    .track-item.track-just-released {
        border-left: 3px solid var(--acento-exito);
        background: rgba(46, 213, 115, 0.03);
    }
    .track-new-badge {
        font-family: var(--font-titulo);
        font-size: .55rem;
        font-weight: 800;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--acento-exito);
        background: rgba(46, 213, 115, 0.1);
        padding: 2px 8px;
        border-radius: 50px;
        border: 1px solid rgba(46, 213, 115, 0.2);
        animation: newPulse 2s ease-in-out infinite;
        flex-shrink: 0;
    }

    .album-release-info {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-top: 10px;
        padding: 6px 16px;
        background: rgba(255, 215, 0, 0.06);
        border: 1px solid rgba(255, 215, 0, 0.12);
        border-radius: 50px;
        font-family: var(--font-titulo);
        font-size: .68rem;
        font-weight: 700;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--acento-dorado);
    }
    .album-release-info.released {
        background: rgba(46, 213, 115, 0.06);
        border-color: rgba(46, 213, 115, 0.15);
        color: var(--acento-exito);
    }

    @keyframes lockPulse {
        0%, 100% { transform: scale(1); opacity: 0.9; }
        50% { transform: scale(1.1); opacity: 1; }
    }
    @keyframes newPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }

    .track-item.track-locked.admin-override {
        opacity: 0.7;
        cursor: pointer;
        pointer-events: all;
    }
    .track-item.track-locked.admin-override:hover {
        opacity: 0.85;
    }
    .admin-lock-label {
        font-family: var(--font-titulo);
        font-size: .55rem;
        font-weight: 700;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--acento-dorado);
        background: rgba(255, 215, 0, 0.08);
        padding: 2px 8px;
        border-radius: 50px;
        border: 1px solid rgba(255, 215, 0, 0.15);
        flex-shrink: 0;
    }

    /* ============================================
       ðŸ§¹ SISTEMA LIMPIAR/MARCAR COMO VISTO
       ============================================ */
    .inicio-section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 14px;
        flex-wrap: wrap;
        gap: 8px;
    }
    .inicio-section-title-row {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .inicio-new-badge {
        font-family: var(--font-titulo);
        font-size: .58rem;
        font-weight: 700;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--acento-exito);
        background: rgba(46,213,115,.08);
        border: 1px solid rgba(46,213,115,.15);
        padding: 3px 10px;
        border-radius: 50px;
        animation: newPulse 2s ease-in-out infinite;
    }
    .inicio-clear-btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 14px;
        background: rgba(255,255,255,.03);
        border: 1px solid rgba(255,255,255,.06);
        border-radius: 8px;
        color: var(--plata-oscura);
        font-family: var(--font-titulo);
        font-size: .62rem;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all .25s ease;
    }
    .inicio-clear-btn:hover {
        background: rgba(192,192,192,.06);
        border-color: rgba(192,192,192,.12);
        color: var(--plata-blanca);
        transform: translateY(-1px);
    }
    .inicio-all-seen {
        font-family: var(--font-titulo);
        font-size: .6rem;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: rgba(192,192,192,.25);
        padding: 6px 14px;
        background: rgba(255,255,255,.015);
        border: 1px solid rgba(255,255,255,.03);
        border-radius: 8px;
    }
    .inicio-clear-all-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 22px;
        background: linear-gradient(135deg, rgba(30,30,30,.9), rgba(18,18,18,.9));
        border: 1px solid rgba(192,192,192,.12);
        border-radius: 10px;
        color: var(--plata-blanca);
        font-family: var(--font-titulo);
        font-size: .7rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all .3s ease;
        width: 100%;
        justify-content: center;
    }
    .inicio-clear-all-btn:hover {
        background: linear-gradient(135deg, rgba(192,192,192,.15), rgba(192,192,192,.05));
        border-color: rgba(192,192,192,.2);
        transform: translateY(-1px);
        box-shadow: 0 4px 15px rgba(0,0,0,.2);
    }
    .inicio-all-clear {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 16px 24px;
        background: rgba(46,213,115,.03);
        border: 1px solid rgba(46,213,115,.08);
        border-radius: 12px;
        text-align: center;
    }
    .inicio-all-clear-icon {
        font-size: 1.2rem;
    }
    .inicio-all-clear-text {
        font-family: var(--font-titulo);
        font-size: .72rem;
        font-weight: 600;
        letter-spacing: .5px;
        color: rgba(46,213,115,.6);
    }
    .empty-state-sm {
        padding: 30px 16px;
    }
    .empty-state-sm .empty-icon {
        font-size: 1.5rem;
        margin-bottom: 8px;
    }
    .empty-state-sm .empty-title {
        font-size: .82rem;
    }
    .empty-state-sm .empty-text {
        font-size: .72rem;
        margin-top: 4px;
    }

    /* ============================================
       ðŸ”´ EN VIVO - ESTILOS COMPLETOS
       ============================================ */
    .nav-live-dot {
        width: 8px;
        height: 8px;
        background: #ff4757;
        border-radius: 50%;
        margin-left: auto;
        animation: livePulse 1.5s ease-in-out infinite;
        box-shadow: 0 0 8px rgba(255, 71, 87, 0.6);
    }
    @keyframes livePulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.5; transform: scale(1.3); }
    }
    .live-banner {
        position: relative;
        background: linear-gradient(135deg, rgba(255,71,87,0.08), rgba(255,71,87,0.02));
        border: 1px solid rgba(255,71,87,0.15);
        border-radius: var(--radio-md);
        padding: 28px 32px;
        margin-bottom: 24px;
        overflow: hidden;
    }
    .live-banner-pulse {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: radial-gradient(ellipse at center, rgba(255,71,87,0.05) 0%, transparent 70%);
        animation: bannerPulse 3s ease-in-out infinite;
        pointer-events: none;
    }
    @keyframes bannerPulse {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 1; }
    }
    .live-banner-content {
        position: relative;
        z-index: 2;
    }
    .live-badge-big {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 16px;
        background: rgba(255,71,87,0.15);
        border: 1px solid rgba(255,71,87,0.3);
        border-radius: 50px;
        font-family: var(--font-titulo);
        font-size: .72rem;
        font-weight: 800;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #ff4757;
        margin-bottom: 14px;
    }
    .live-dot-anim {
        width: 8px;
        height: 8px;
        background: #ff4757;
        border-radius: 50%;
        animation: livePulse 1s ease-in-out infinite;
    }
    .live-stream-title {
        font-family: var(--font-titulo);
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--plata-blanca);
        margin-bottom: 12px;
    }
    .live-meta-row {
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
    }
    .live-viewers {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 5px 14px;
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 50px;
        font-family: var(--font-titulo);
        font-size: .72rem;
        font-weight: 600;
        color: var(--plata-clara);
    }
    .live-viewers-icon {
        font-size: .85rem;
    }
    .live-viewers-num {
        color: #ff4757;
        font-weight: 800;
    }
    .live-duration {
        font-family: var(--font-titulo);
        font-size: .68rem;
        font-weight: 600;
        letter-spacing: 1px;
        color: var(--plata-oscura);
    }
    .live-player-wrapper {
        margin-bottom: 24px;
    }
    .live-player-container {
        position: relative;
        width: 100%;
        padding-bottom: 56.25%;
        background: #000;
        border-radius: var(--radio-md);
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.06);
    }
    .live-player-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    .live-info-section {
        margin-bottom: 24px;
    }
    .live-description {
        font-size: .88rem;
        color: var(--plata-media);
        font-weight: 300;
        line-height: 1.7;
        padding: 18px;
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: var(--radio-sm);
    }
    .live-chat-section {
        margin-bottom: 24px;
    }
    .live-chat-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
    }
    .live-chat-title {
        font-family: var(--font-titulo);
        font-size: .82rem;
        font-weight: 700;
        color: var(--plata-titulo);
    }
    .live-chat-toggle {
        padding: 5px 14px;
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 6px;
        color: var(--plata-oscura);
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        cursor: pointer;
        transition: var(--trans-suave);
    }
    .live-chat-toggle:hover {
        background: rgba(255,255,255,0.08);
        color: var(--plata-clara);
    }
    .live-chat-container {
        width: 100%;
        height: 400px;
        border-radius: var(--radio-md);
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.06);
        background: #000;
    }
    .live-offline-card {
        text-align: center;
        padding: 60px 30px;
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: var(--radio-md);
    }
    .live-offline-icon {
        font-size: 3.5rem;
        margin-bottom: 20px;
        opacity: 0.4;
    }
    .live-offline-title {
        font-family: var(--font-titulo);
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--plata-titulo);
        margin-bottom: 10px;
    }
    .live-offline-desc {
        font-size: .85rem;
        color: var(--plata-oscura);
        font-weight: 300;
        line-height: 1.7;
        max-width: 500px;
        margin: 0 auto 24px;
    }
    .live-offline-last {
        font-family: var(--font-titulo);
        font-size: .68rem;
        font-weight: 600;
        letter-spacing: 1px;
        color: var(--plata-oscura);
        margin-top: 16px;
    }
    .live-admin-section {
        margin-top: 32px;
        padding-top: 24px;
        border-top: 1px solid rgba(255,255,255,0.06);
    }
    .live-admin-card {
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: var(--radio-md);
        padding: 24px;
    }
    .live-admin-status {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
        padding: 12px 18px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: var(--radio-sm);
        font-family: var(--font-titulo);
        font-size: .78rem;
        color: var(--plata-clara);
    }
    .live-admin-status-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        flex-shrink: 0;
    }
    .live-admin-status-dot.offline {
        background: var(--plata-oscura);
    }
    .live-admin-status-dot.online {
        background: #ff4757;
        animation: livePulse 1s ease-in-out infinite;
        box-shadow: 0 0 8px rgba(255, 71, 87, 0.5);
    }
    .live-admin-form {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }
    .live-admin-actions {
        display: flex;
        gap: 12px;
        margin-top: 8px;
    }
    .live-btn-start {
        flex: 1;
        padding: 14px 28px;
        background: linear-gradient(135deg, rgba(255,71,87,0.15), rgba(255,71,87,0.08));
        border: 1px solid rgba(255,71,87,0.3);
        border-radius: var(--radio-sm);
        color: #ff4757;
        font-family: var(--font-titulo);
        font-size: .78rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all .3s ease;
    }
    .live-btn-start:hover {
        background: linear-gradient(135deg, rgba(255,71,87,0.25), rgba(255,71,87,0.15));
        border-color: rgba(255,71,87,0.5);
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(255,71,87,0.2);
    }
    .live-btn-stop {
        flex: 1;
        padding: 14px 28px;
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: var(--radio-sm);
        color: var(--plata-clara);
        font-family: var(--font-titulo);
        font-size: .78rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all .3s ease;
    }
    .live-btn-stop:hover {
        background: rgba(255,71,87,0.1);
        border-color: rgba(255,71,87,0.3);
        color: #ff4757;
    }
    .live-history-item {
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 12px 16px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: var(--radio-sm);
        margin-bottom: 6px;
        transition: var(--trans-normal);
    }
    .live-history-item:hover {
        background: rgba(255,255,255,0.04);
        border-color: rgba(192,192,192,0.08);
    }
    .live-history-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--plata-oscura);
        flex-shrink: 0;
    }
    .live-history-dot.was-live {
        background: rgba(255,71,87,0.4);
    }
    .live-history-info {
        flex: 1;
        min-width: 0;
    }
    .live-history-title {
        font-size: .82rem;
        font-weight: 600;
        color: var(--plata-titulo);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .live-history-meta {
        font-size: .65rem;
        color: var(--plata-oscura);
        margin-top: 2px;
    }
    .live-history-delete {
        background: none;
        border: none;
        font-size: .75rem;
        cursor: pointer;
        opacity: 0;
        transition: var(--trans-normal);
        padding: 4px 8px;
        border-radius: 4px;
        color: var(--plata-oscura);
    }
    .live-history-item:hover .live-history-delete {
        opacity: 0.5;
    }
    .live-history-delete:hover {
        opacity: 1 !important;
        background: rgba(255,71,87,0.1);
        color: #ff4757;
    }
    .notif-live {
        border-left: 3px solid #ff4757;
    }
    .notif-item-icon.icon-live {
        background: rgba(255,71,87,0.1);
        border-color: rgba(255,71,87,0.2);
    }
    @media (max-width: 768px) {
        .live-banner { padding: 20px; }
        .live-stream-title { font-size: 1.15rem; }
        .live-meta-row { flex-direction: column; align-items: flex-start; gap: 8px; }
        .live-chat-container { height: 300px; }
        .live-admin-actions { flex-direction: column; }
    }

    /* ============================================
       ðŸ’¬ CHAT EN TIEMPO REAL
       ============================================ */
    .chat-container {
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 16px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: calc(100vh - 220px);
        max-height: 700px;
    }
    .chat-header-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 20px;
        background: rgba(255,255,255,0.02);
        border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .chat-header-left {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .chat-header-dot {
        width: 8px;
        height: 8px;
        background: var(--acento-exito);
        border-radius: 50%;
        box-shadow: 0 0 6px rgba(46,213,115,0.4);
        animation: pulse 2s infinite;
    }
    .chat-header-status {
        font-family: var(--font-titulo);
        font-size: .75rem;
        font-weight: 700;
        color: var(--plata-titulo);
        letter-spacing: 0.5px;
    }
    .chat-header-online {
        font-size: .65rem;
        color: var(--plata-oscura);
        font-weight: 500;
    }
    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }
    .chat-messages::-webkit-scrollbar { width: 3px; }
    .chat-messages::-webkit-scrollbar-thumb { background: rgba(192,192,192,0.06); border-radius: 4px; }
    .chat-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 1;
        gap: 10px;
        padding: 40px;
    }
    .chat-empty-icon { font-size: 2rem; opacity: 0.2; }
    .chat-empty-title { font-family: var(--font-titulo); font-size: .88rem; font-weight: 600; color: var(--plata-oscura); }
    .chat-empty-text { font-size: .75rem; color: rgba(192,192,192,0.25); }
    .chat-date-sep {
        text-align: center;
        padding: 12px 0;
    }
    .chat-date-sep span {
        font-family: var(--font-titulo);
        font-size: .58rem;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(192,192,192,0.2);
        background: var(--negro-card);
        padding: 4px 16px;
        border: 1px solid rgba(255,255,255,0.03);
        border-radius: 50px;
    }
    .chat-msg {
        display: flex;
        gap: 10px;
        padding: 8px 12px;
        border-radius: 10px;
        transition: background 0.2s ease;
        animation: fadeIn 0.3s ease;
    }
    .chat-msg:hover { background: rgba(255,255,255,0.015); }
    .chat-msg-me { flex-direction: row-reverse; }
    .chat-msg-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: var(--negro-hover);
        border: 1px solid rgba(192,192,192,0.08);
        overflow: hidden;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .chat-msg-avatar img { width: 100%; height: 100%; object-fit: cover; }
    .chat-avatar-letter {
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 700;
        color: var(--plata-media);
    }
    .chat-msg-content { flex: 1; min-width: 0; }
    .chat-msg-me .chat-msg-content { text-align: right; }
    .chat-msg-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 3px;
    }
    .chat-msg-me .chat-msg-header { flex-direction: row-reverse; }
    .chat-msg-name {
        font-family: var(--font-titulo);
        font-size: .7rem;
        font-weight: 700;
        color: var(--plata-titulo);
    }
    .chat-msg-name.me { color: var(--acento-principal); }
    .chat-msg-time {
        font-size: .55rem;
        color: rgba(192,192,192,0.2);
        font-weight: 500;
    }
    .chat-msg-delete {
        background: none;
        border: none;
        font-size: .6rem;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.2s;
        padding: 2px 4px;
        border-radius: 4px;
    }
    .chat-msg:hover .chat-msg-delete { opacity: 0.4; }
    .chat-msg-delete:hover { opacity: 1 !important; background: rgba(255,71,87,0.1); }
    .chat-msg-text {
        font-size: .82rem;
        color: var(--plata-clara);
        font-weight: 400;
        line-height: 1.6;
        word-break: break-word;
    }
    .chat-msg-me .chat-msg-text {
        background: rgba(192,192,192,0.04);
        display: inline-block;
        padding: 6px 14px;
        border-radius: 12px 12px 2px 12px;
    }
    .chat-link { color: var(--acento-principal); text-decoration: underline; }
    .chat-input-section {
        padding: 14px 20px;
        border-top: 1px solid rgba(255,255,255,0.04);
        background: rgba(255,255,255,0.01);
    }
    .chat-input-wrap {
        display: flex;
        gap: 10px;
        align-items: flex-end;
    }
    .chat-input {
        flex: 1;
        padding: 10px 14px;
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        color: var(--plata-blanca);
        font-family: var(--font-cuerpo);
        font-size: .85rem;
        resize: none;
        min-height: 40px;
        max-height: 100px;
        transition: border-color 0.3s ease;
        outline: none;
    }
    .chat-input:focus { border-color: rgba(192,192,192,0.2); }
    .chat-input::placeholder { color: var(--plata-oscura); }
    .chat-send-btn {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
        border: 1px solid rgba(192,192,192,0.15);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        flex-shrink: 0;
    }
    .chat-send-btn:hover {
        background: linear-gradient(135deg, #c0c0c0, #888);
        border-color: var(--acento-principal);
        transform: scale(1.05);
    }
    .chat-send-icon { font-size: .9rem; color: var(--plata-blanca); }
    .chat-send-btn:hover .chat-send-icon { color: var(--negro-base); }
    .chat-input-footer {
        display: flex;
        justify-content: space-between;
        margin-top: 6px;
        padding: 0 4px;
    }
    .chat-char-count {
        font-family: var(--font-titulo);
        font-size: .55rem;
        font-weight: 600;
        color: rgba(192,192,192,0.15);
        letter-spacing: 0.5px;
    }
    .chat-char-count.warn { color: var(--acento-error); }
    .chat-input-hint {
        font-size: .55rem;
        color: rgba(192,192,192,0.12);
    }
    .chat-unread-badge {
        min-width: 18px;
        height: 18px;
        background: var(--acento-error);
        border-radius: 50%;
        font-family: var(--font-titulo);
        font-size: .55rem;
        font-weight: 800;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: auto;
        padding: 0 5px;
    }

    /* ============================================
       ðŸŽµ LETRAS Y CRÃ‰DITOS
       ============================================ */
    .lyrics-overlay {
        display: none;
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.85);
        z-index: 1100;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
    }
    .lyrics-overlay.show { display: flex; }
    .lyrics-modal {
        background: rgba(12,12,12,0.97);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 20px;
        width: 100%;
        max-width: 520px;
        max-height: 85vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        margin: 20px;
        animation: fadeIn 0.3s ease;
    }
    .lyrics-modal-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: 24px 24px 16px;
        border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .lyrics-modal-label {
        font-family: var(--font-titulo);
        font-size: .5rem;
        font-weight: 800;
        letter-spacing: 3px;
        color: rgba(192,192,192,0.25);
        margin-bottom: 6px;
    }
    .lyrics-modal-title {
        font-family: var(--font-titulo);
        font-size: 1.15rem;
        font-weight: 800;
        color: var(--plata-blanca);
        margin: 0 0 4px 0;
    }
    .lyrics-modal-album {
        font-size: .75rem;
        color: rgba(192,192,192,0.35);
        margin: 0;
    }
    .lyrics-modal-header-actions {
        display: flex;
        gap: 8px;
        align-items: center;
    }
    .lyrics-edit-btn {
        padding: 6px 14px;
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 8px;
        color: var(--plata-media);
        font-family: var(--font-titulo);
        font-size: .62rem;
        font-weight: 600;
        letter-spacing: 1px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .lyrics-edit-btn:hover {
        background: rgba(192,192,192,0.06);
        color: var(--plata-blanca);
    }
    .lyrics-close-btn {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: none;
        color: var(--plata-media);
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .lyrics-close-btn:hover { background: rgba(255,255,255,0.04); color: var(--plata-blanca); }
    .lyrics-modal-body {
        flex: 1;
        overflow-y: auto;
        padding: 0 24px 24px;
    }
    .lyrics-tabs {
        display: flex;
        gap: 6px;
        margin: 16px 0;
    }
    .lyrics-tab {
        padding: 8px 18px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 8px;
        color: var(--plata-oscura);
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 700;
        letter-spacing: 1px;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .lyrics-tab:hover { background: rgba(255,255,255,0.04); color: var(--plata-clara); }
    .lyrics-tab.active {
        background: rgba(192,192,192,0.06);
        border-color: rgba(192,192,192,0.12);
        color: var(--plata-blanca);
    }
    .lyrics-text {
        padding: 8px 0;
    }
    .lyrics-line {
        font-size: .88rem;
        color: var(--plata-clara);
        font-weight: 300;
        line-height: 2;
        transition: color 0.2s ease;
    }
    .lyrics-line:hover { color: var(--plata-blanca); }
    .lyrics-section {
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 800;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--acento-principal);
        margin: 20px 0 8px;
        padding: 6px 14px;
        background: rgba(192,192,192,0.04);
        border-radius: 6px;
        display: inline-block;
    }
    .lyrics-break { height: 12px; }
    .lyrics-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        padding: 40px;
        text-align: center;
    }
    .lyrics-empty-icon { font-size: 1.5rem; opacity: 0.2; }
    .lyrics-empty-text { font-size: .78rem; color: var(--plata-oscura); }
    .credits-grid {
        display: flex;
        flex-direction: column;
        gap: 10px;
        padding: 8px 0;
    }
    .credit-item {
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 14px 16px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.03);
        border-radius: 10px;
        transition: all 0.2s ease;
    }
    .credit-item:hover { border-color: rgba(192,192,192,0.06); background: rgba(255,255,255,0.03); }
    .credit-icon { font-size: 1.1rem; flex-shrink: 0; }
    .credit-info { flex: 1; }
    .credit-label {
        font-family: var(--font-titulo);
        font-size: .55rem;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(192,192,192,0.3);
        display: block;
        margin-bottom: 3px;
    }
    .credit-value {
        font-size: .85rem;
        font-weight: 600;
        color: var(--plata-titulo);
    }
    .credits-empty {
        text-align: center;
        padding: 30px;
        font-size: .78rem;
        color: var(--plata-oscura);
    }

    /* ============================================
       ðŸ“‹ SOLICITUDES DE BEATS
       ============================================ */
    .sol-beat-actions-top {
        margin-bottom: 24px;
    }
    .sol-beat-new-btn {
        padding: 12px 24px;
        background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
        border: 1px solid rgba(192,192,192,0.15);
        border-radius: 12px;
        color: var(--plata-blanca);
        font-family: var(--font-titulo);
        font-size: .75rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
    }
    .sol-beat-new-btn:hover {
        background: linear-gradient(135deg, #c0c0c0, #888);
        color: var(--negro-base);
        border-color: var(--acento-principal);
        transform: translateY(-2px);
    }
    .sol-beat-card {
        background: var(--negro-card);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 14px;
        overflow: hidden;
        margin-bottom: 12px;
        animation: fadeInUp 0.4s ease both;
        transition: all 0.3s ease;
    }
    .sol-beat-card:hover { border-color: rgba(192,192,192,0.06); }
    .sol-beat-card.status-pendiente { border-left: 3px solid #ffa500; }
    .sol-beat-card.status-aceptada { border-left: 3px solid var(--acento-exito); }
    .sol-beat-card.status-rechazada { border-left: 3px solid var(--acento-error); }
    .sol-beat-card.status-completada { border-left: 3px solid var(--acento-principal); }
    .sol-beat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 20px 0;
    }
    .sol-beat-status {
        display: flex;
        align-items: center;
        gap: 6px;
    }
    .sol-beat-status-icon { font-size: .85rem; }
    .sol-beat-status-text {
        font-family: var(--font-titulo);
        font-size: .65rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--plata-media);
    }
    .sol-beat-date { font-size: .62rem; color: var(--plata-oscura); }
    .sol-beat-body { padding: 14px 20px 20px; }
    .sol-beat-user {
        font-size: .75rem;
        color: var(--plata-media);
        margin-bottom: 12px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    .sol-beat-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 8px;
        margin-bottom: 12px;
    }
    .sol-beat-field {
        padding: 10px 12px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.03);
        border-radius: 8px;
    }
    .sol-beat-label {
        font-family: var(--font-titulo);
        font-size: .5rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: rgba(192,192,192,0.3);
        display: block;
        margin-bottom: 3px;
    }
    .sol-beat-value {
        font-size: .78rem;
        font-weight: 600;
        color: var(--plata-titulo);
    }
    .sol-beat-desc {
        font-size: .82rem;
        color: var(--plata-clara);
        font-weight: 300;
        line-height: 1.7;
        margin-bottom: 10px;
    }
    .sol-beat-ref {
        font-size: .72rem;
        color: var(--plata-oscura);
        margin-bottom: 10px;
        word-break: break-all;
    }
    .sol-beat-response {
        margin-top: 14px;
        padding: 14px 16px;
        background: rgba(46,213,115,0.03);
        border: 1px solid rgba(46,213,115,0.08);
        border-radius: 10px;
    }
    .sol-beat-response-label {
        font-family: var(--font-titulo);
        font-size: .6rem;
        font-weight: 700;
        letter-spacing: 1px;
        color: var(--acento-exito);
        margin-bottom: 6px;
    }
    .sol-beat-response-text {
        font-size: .82rem;
        color: var(--plata-clara);
        font-weight: 300;
        line-height: 1.6;
    }
    .sol-beat-price-final {
        margin-top: 8px;
        font-family: var(--font-titulo);
        font-size: .85rem;
        font-weight: 800;
        color: var(--acento-dorado);
    }
    .sol-beat-admin-actions {
        display: flex;
        gap: 10px;
        margin-top: 14px;
    }
    .sol-beat-btn-accept {
        flex: 1;
        padding: 10px;
        background: rgba(46,213,115,0.06);
        border: 1px solid rgba(46,213,115,0.15);
        border-radius: 8px;
        color: var(--acento-exito);
        font-family: var(--font-titulo);
        font-size: .68rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .sol-beat-btn-accept:hover {
        background: rgba(46,213,115,0.12);
        transform: translateY(-1px);
    }
    .sol-beat-btn-reject {
        padding: 10px 18px;
        background: rgba(255,71,87,0.06);
        border: 1px solid rgba(255,71,87,0.15);
        border-radius: 8px;
        color: var(--acento-error);
        font-family: var(--font-titulo);
        font-size: .68rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .sol-beat-btn-reject:hover { background: rgba(255,71,87,0.12); }

    /* â”€â”€ Responsive nuevas funciones â”€â”€ */
    @media (max-width: 768px) {
        .chat-container { height: calc(100vh - 200px); }
        .sol-beat-grid { grid-template-columns: 1fr 1fr; }
        .lyrics-modal { margin: 10px; max-height: 90vh; }
    }
    @media (max-width: 480px) {
        .chat-container { height: calc(100vh - 180px); }
        .sol-beat-grid { grid-template-columns: 1fr; }
        .sol-beat-admin-actions { flex-direction: column; }
    }

    </style>
</head>
<body class="dashboard-body">

    <!-- â³ LOADING -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo"><span>KXON</span></div>
        <div class="loading-spinner"></div>
    </div>

    <div class="toast-container" id="toastContainer"></div>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ðŸ”² MODALES
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- ðŸ”² MODAL: NUEVO ÃLBUM -->
    <div class="modal-overlay" id="modalAlbum">
        <div class="modal">
            <div class="modal-header"><h3 class="modal-title">Nuevo Ãlbum</h3><button class="modal-close" id="modalAlbumClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formAlbum">
                    <div class="form-group"><label class="form-label">TÃ­tulo del Ã¡lbum</label><input type="text" class="form-input" id="albumTitulo" placeholder="Nombre del Ã¡lbum" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="albumDesc" placeholder="DescripciÃ³n (opcional)"></textarea></div>
                    <div class="form-group">
                        <label class="form-label">ðŸ“… Fecha de Lanzamiento</label>
                        <input type="datetime-local" class="form-input" id="albumFechaLanzamiento">
                        <span style="font-size:.68rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;display:block;">Si dejas vacÃ­o, el Ã¡lbum se publica inmediatamente. Si pones fecha, estarÃ¡ bloqueado hasta ese dÃ­a.</span>
                    </div>
                    <div class="form-group"><label class="form-label">Portada</label><div class="file-upload"><div class="file-upload-area" id="albumCoverArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="albumCoverFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="albumCoverPreview"><img id="albumCoverImg" src="" alt=""></div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalAlbumCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnAlbumSubmit">Crear Ãlbum</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVA CANCIÃ“N -->
    <div class="modal-overlay" id="modalCancion">
        <div class="modal">
            <div class="modal-header"><h3 class="modal-title">Agregar CanciÃ³n al Ãlbum</h3><button class="modal-close" id="modalCancionClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formCancion">
                    <div class="form-group"><label class="form-label">TÃ­tulo de la canciÃ³n</label><input type="text" class="form-input" id="cancionTitulo" placeholder="Nombre de la canciÃ³n" required></div>
                    <div class="form-group">
                        <label class="form-label">ðŸ“… Fecha de Lanzamiento</label>
                        <input type="datetime-local" class="form-input" id="cancionFechaLanzamiento">
                        <span style="font-size:.68rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;display:block;">Si dejas vacÃ­o, se publica con el Ã¡lbum. Si pones fecha, estarÃ¡ ðŸ”’ bloqueada hasta ese dÃ­a.</span>
                    </div>
                    <div class="form-group"><label class="form-label">Archivo de audio</label><div class="file-upload"><div class="file-upload-area" id="cancionAudioArea"><div class="file-upload-icon">ðŸŽµ</div><div class="file-upload-text">Click para subir audio</div><div class="file-upload-hint">MP3, WAV, OGG â€” MÃ¡x 50MB</div></div><input type="file" id="cancionAudioFile" accept="audio/mpeg,audio/mp3,audio/wav,audio/ogg"></div><div class="upload-progress" id="uploadProgress"><div class="upload-bar"><div class="upload-bar-fill" id="uploadBarFill"></div></div><div class="upload-text" id="uploadText">Subiendo...</div></div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalCancionCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnCancionSubmit">Subir CanciÃ³n</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVA NOTICIA -->
    <div class="modal-overlay" id="modalNoticia">
        <div class="modal">
            <div class="modal-header"><h3 class="modal-title">Nueva Noticia</h3><button class="modal-close" id="modalNoticiaClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formNoticia">
                    <div class="form-group"><label class="form-label">TÃ­tulo de la noticia</label><input type="text" class="form-input" id="noticiaTitulo" placeholder="TÃ­tulo" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="noticiaDesc" placeholder="Contenido de la noticia" required></textarea></div>
                    <div class="form-group"><label class="form-label">Imagen</label><div class="file-upload"><div class="file-upload-area" id="noticiaCoverArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="noticiaCoverFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="noticiaCoverPreview"><img id="noticiaCoverImg" src="" alt=""></div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalNoticiaCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnNoticiaSubmit">Publicar</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: DETALLE NOTICIA -->
    <div class="modal-overlay" id="modalNoticiaDetalle">
        <div class="modal" style="max-width:600px;">
            <div class="modal-header"><h3 class="modal-title" id="noticiaDetalleTitulo">Noticia</h3><button class="modal-close" onclick="document.getElementById('modalNoticiaDetalle').classList.remove('show')">âœ•</button></div>
            <div class="modal-body" style="padding-top:16px;">
                <div id="noticiaDetalleImgWrap" style="width:100%;border-radius:10px;overflow:hidden;margin-bottom:20px;border:1px solid rgba(255,255,255,.06);display:none;"><img id="noticiaDetalleImg" src="" alt="" style="width:100%;height:auto;max-height:350px;object-fit:cover;display:block;"></div>
                <div style="margin-bottom:16px;"><span id="noticiaDetalleFecha" style="font-size:.7rem;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--plata-oscura);font-family:var(--font-titulo);background:rgba(255,255,255,.04);padding:5px 12px;border-radius:50px;border:1px solid rgba(255,255,255,.06);"></span></div>
                <p id="noticiaDetalleDesc" style="font-size:.92rem;color:var(--plata-clara);font-weight:300;line-height:1.8;white-space:pre-wrap;"></p>
                <div id="noticiaDetalleComments"></div>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVO PRODUCTO MARKETPLACE -->
    <div class="modal-overlay" id="modalMarketAdd">
        <div class="modal" style="max-width:520px;">
            <div class="modal-header"><h3 class="modal-title" id="modalMarketTitle">Nuevo Producto</h3><button class="modal-close" onclick="window._closeMarketModal()">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formMarketAdd">
                    <div class="form-group"><label class="form-label">Tipo de producto</label><div class="market-tabs" style="margin-bottom:0;"><div class="market-tab active" id="addTypeBeat" onclick="window._setAddType('beat')">ðŸŽ¹ Beat</div><div class="market-tab" id="addTypeCancion" onclick="window._setAddType('cancion')">ðŸŽ¤ CanciÃ³n</div></div></div>
                    <input type="hidden" id="marketAddTipo" value="beat">
                    <div class="form-group"><label class="form-label">TÃ­tulo</label><input type="text" class="form-input" id="marketAddTitulo" placeholder="Nombre del beat o canciÃ³n" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="marketAddDesc" placeholder="DescripciÃ³n (opcional)"></textarea></div>
                    <div class="form-group"><label class="form-label">Precio (COP $)</label><input type="number" class="form-input" id="marketAddPrecio" placeholder="50000" min="0" step="1000" required></div>
                    <div class="form-group"><label class="form-label">Portada</label><div class="file-upload"><div class="file-upload-area" id="marketImgArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="marketImgFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="marketImgPreview"><img id="marketImgPrev" src="" alt=""></div></div>
                    <div class="form-group" id="groupAudioMain"><label class="form-label" id="labelAudioMain">Archivo de audio (Beat)</label><div class="file-upload"><div class="file-upload-area" id="marketAudioMainArea"><div class="file-upload-icon">ðŸŽµ</div><div class="file-upload-text">Click para subir audio</div><div class="file-upload-hint">MP3, WAV â€” MÃ¡x 50MB</div></div><input type="file" id="marketAudioMainFile" accept="audio/mpeg,audio/mp3,audio/wav,audio/ogg"></div></div>
                    <div class="form-group" id="groupAudioVoz" style="display:none;"><label class="form-label">Archivo de Voz (solo voz)</label><div class="file-upload"><div class="file-upload-area" id="marketAudioVozArea"><div class="file-upload-icon">ðŸŽ¤</div><div class="file-upload-text">Click para subir voz</div><div class="file-upload-hint">MP3, WAV â€” MÃ¡x 50MB</div></div><input type="file" id="marketAudioVozFile" accept="audio/mpeg,audio/mp3,audio/wav,audio/ogg"></div></div>
                    <div class="form-group" id="groupAudioBeat" style="display:none;"><label class="form-label">Archivo de Beat (solo beat)</label><div class="file-upload"><div class="file-upload-area" id="marketAudioBeatArea"><div class="file-upload-icon">ðŸŽ¹</div><div class="file-upload-text">Click para subir beat separado</div><div class="file-upload-hint">MP3, WAV â€” MÃ¡x 50MB</div></div><input type="file" id="marketAudioBeatFile" accept="audio/mpeg,audio/mp3,audio/wav,audio/ogg"></div></div>
                    <div class="upload-progress" id="marketUploadProgress"><div class="upload-bar"><div class="upload-bar-fill" id="marketUploadFill"></div></div><div class="upload-text" id="marketUploadText">Subiendo...</div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" onclick="window._closeMarketModal()">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnMarketSubmit">Publicar</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: DETALLE PRODUCTO MARKETPLACE -->
    <div class="market-detail-overlay" id="marketDetailOverlay">
        <div class="market-detail-modal">
            <button class="market-detail-close" onclick="document.getElementById('marketDetailOverlay').classList.remove('show')">âœ•</button>
            <div class="market-detail-header"><div class="market-detail-cover"><img id="marketDetCover" src="" alt=""></div><div class="market-detail-info"><div class="market-detail-badge" id="marketDetBadge">BEAT</div><h2 class="market-detail-title" id="marketDetTitle"></h2><p class="market-detail-desc" id="marketDetDesc"></p><div><span class="market-detail-price-label">Precio</span><div class="market-detail-price" id="marketDetPrice"></div></div></div></div>
            <div class="market-detail-audios" id="marketDetAudios"></div>
            <div class="market-detail-actions" id="marketDetActions"><button class="market-detail-buy-btn" id="marketDetBuyBtn" onclick="window._initPurchase()">ðŸ›’ Comprar Ahora</button></div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: DETALLE SOLICITUD -->
    <div class="solicitud-detail-overlay" id="solicitudDetailOverlay">
        <div class="solicitud-detail-modal">
            <button class="solicitud-detail-close" onclick="document.getElementById('solicitudDetailOverlay').classList.remove('show')">âœ•</button>
            <div class="solicitud-detail-product"><div class="solicitud-detail-cover"><img id="solDetCover" src="" alt=""></div><div class="solicitud-detail-product-info"><div class="solicitud-detail-product-type market-badge-beat" id="solDetType">BEAT</div><div class="solicitud-detail-product-title" id="solDetTitle"></div><div class="solicitud-detail-product-price" id="solDetPrice"></div></div></div>
            <div class="solicitud-detail-info"><div class="solicitud-detail-info-grid"><div class="solicitud-detail-info-item"><div class="solicitud-detail-info-label">Comprador</div><div class="solicitud-detail-info-value" id="solDetBuyer"></div></div><div class="solicitud-detail-info-item"><div class="solicitud-detail-info-label">Email</div><div class="solicitud-detail-info-value" id="solDetEmail"></div></div><div class="solicitud-detail-info-item"><div class="solicitud-detail-info-label">Fecha</div><div class="solicitud-detail-info-value" id="solDetFecha"></div></div><div class="solicitud-detail-info-item"><div class="solicitud-detail-info-label">Estado</div><div class="solicitud-detail-info-value" id="solDetEstado">â³ Pendiente</div></div></div></div>
            <div class="solicitud-detail-comprobante" id="solDetCompWrap"><div class="solicitud-detail-comprobante-title">ðŸ“¸ Comprobante de pago</div><img class="solicitud-detail-comprobante-img" id="solDetCompImg" src="" alt="Comprobante" onclick="window.open(this.src,'_blank')"></div>
            <div class="solicitud-detail-actions" id="solDetActions"><button class="btn-confirm-purchase" id="solDetBtnConfirm">âœ… Confirmar Compra</button><button class="btn-reject-purchase" id="solDetBtnReject">âŒ Rechazar</button></div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: FORMULARIO DE COMPRA -->
    <div class="purchase-form-overlay" id="purchaseOverlay">
        <div class="purchase-form-modal">
            <div class="purchase-header"><h3 class="purchase-title">ðŸ’³ Confirmar Compra</h3><button class="purchase-close" onclick="window._closePurchase()">âœ•</button></div>
            <div class="purchase-body">
                <div class="purchase-info-card"><div class="purchase-info-row"><span class="purchase-info-label">Usuario</span><span class="purchase-info-value" id="purchaseUser"></span></div><div class="purchase-info-row"><span class="purchase-info-label">Producto</span><span class="purchase-info-value" id="purchaseProduct"></span></div><div class="purchase-info-row"><span class="purchase-info-label">Precio</span><span class="purchase-info-value price" id="purchasePrice"></span></div></div>
                <div class="nequi-box"><div class="nequi-label">Pagar con Nequi al nÃºmero</div><div class="nequi-number">318 453 0020</div><div class="nequi-hint">Realiza la transferencia y sube el comprobante</div></div>
                <a href="#" target="_blank" class="btn-whatsapp" id="btnWhatsapp">ðŸ’¬ Ir a WhatsApp para confirmar</a>
                <div class="form-group"><label class="form-label">Subir comprobante de pago</label><div class="file-upload"><div class="file-upload-area" id="purchaseCompArea"><div class="file-upload-icon">ðŸ“¸</div><div class="file-upload-text">Click para subir comprobante</div><div class="file-upload-hint">JPG, PNG â€” MÃ¡x 5MB</div></div><input type="file" id="purchaseCompFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="purchaseCompPreview"><img id="purchaseCompImg" src="" alt=""></div></div>
                <div class="purchase-actions"><button type="button" class="btn-modal-cancel" onclick="window._closePurchase()">Cancelar</button><button type="button" class="btn-send-purchase" id="btnSendPurchase" onclick="window._sendPurchase()">Enviar Solicitud</button></div>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVO VIDEO -->
    <div class="modal-overlay" id="modalVideo">
        <div class="modal" style="max-width:520px;">
            <div class="modal-header"><h3 class="modal-title">Nuevo Video</h3><button class="modal-close" id="modalVideoClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formVideo">
                    <div class="form-group"><label class="form-label">TÃ­tulo del video</label><input type="text" class="form-input" id="videoTitulo" placeholder="Nombre del video" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="videoDesc" placeholder="DescripciÃ³n (opcional)"></textarea></div>
                    <div class="form-group"><label class="form-label">Miniatura / Thumbnail</label><div class="file-upload"><div class="file-upload-area" id="videoThumbArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="videoThumbFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="videoThumbPreview"><img id="videoThumbImg" src="" alt=""></div></div>
                    <div class="form-group"><label class="form-label">Archivo de Video</label><div class="file-upload"><div class="file-upload-area" id="videoFileArea"><div class="file-upload-icon">ðŸŽ¬</div><div class="file-upload-text">Click para subir video</div><div class="file-upload-hint">MP4, WebM, MOV â€” MÃ¡x 500MB</div></div><input type="file" id="videoFileInput" accept="video/mp4,video/webm,video/quicktime"></div></div>
                    <div class="upload-progress" id="videoUploadProgress"><div class="upload-bar"><div class="upload-bar-fill" id="videoUploadFill"></div></div><div class="upload-text" id="videoUploadText">Subiendo...</div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalVideoCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnVideoSubmit">Subir Video</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVO DOCUMENTAL -->
    <div class="modal-overlay" id="modalDocumental">
        <div class="modal">
            <div class="modal-header"><h3 class="modal-title">Nuevo Documental</h3><button class="modal-close" id="modalDocumentalClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formDocumental">
                    <div class="form-group"><label class="form-label">TÃ­tulo del documental</label><input type="text" class="form-input" id="docuTitulo" placeholder="Nombre del documental" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="docuDesc" placeholder="Sinopsis o descripciÃ³n"></textarea></div>
                    <div class="form-group"><label class="form-label">Portada</label><div class="file-upload"><div class="file-upload-area" id="docuCoverArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="docuCoverFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="docuCoverPreview"><img id="docuCoverImg" src="" alt=""></div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalDocumentalCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnDocuSubmit">Crear Documental</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: NUEVO EPISODIO -->
    <div class="modal-overlay" id="modalEpisodio">
        <div class="modal" style="max-width:520px;">
            <div class="modal-header"><h3 class="modal-title">Agregar Episodio</h3><button class="modal-close" id="modalEpisodioClose">âœ•</button></div>
            <div class="modal-body">
                <form class="modal-form" id="formEpisodio">
                    <div class="form-group"><label class="form-label">TÃ­tulo del episodio</label><input type="text" class="form-input" id="episodioTitulo" placeholder="Ej: Episodio 1 â€” El inicio" required></div>
                    <div class="form-group"><label class="form-label">DescripciÃ³n</label><textarea class="form-textarea" id="episodioDesc" placeholder="DescripciÃ³n del episodio (opcional)"></textarea></div>
                    <div class="form-group"><label class="form-label">NÃºmero de episodio</label><input type="number" class="form-input" id="episodioNumero" placeholder="1" min="1" value="1" required></div>
                    <div class="form-group"><label class="form-label">Miniatura del episodio</label><div class="file-upload"><div class="file-upload-area" id="episodioThumbArea"><div class="file-upload-icon">ðŸ–¼ï¸</div><div class="file-upload-text">Click para subir imagen</div><div class="file-upload-hint">JPG, PNG, WebP â€” MÃ¡x 5MB</div></div><input type="file" id="episodioThumbFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="episodioThumbPreview"><img id="episodioThumbImg" src="" alt=""></div></div>
                    <div class="form-group"><label class="form-label">Archivo de Video</label><div class="file-upload"><div class="file-upload-area" id="episodioVideoArea"><div class="file-upload-icon">ðŸŽ¬</div><div class="file-upload-text">Click para subir video</div><div class="file-upload-hint">MP4, WebM, MOV â€” MÃ¡x 500MB</div></div><input type="file" id="episodioVideoFile" accept="video/mp4,video/webm,video/quicktime"></div></div>
                    <div class="upload-progress" id="episodioUploadProgress"><div class="upload-bar"><div class="upload-bar-fill" id="episodioUploadFill"></div></div><div class="upload-text" id="episodioUploadText">Subiendo...</div></div>
                    <div class="modal-actions"><button type="button" class="btn-modal-cancel" id="modalEpisodioCancel">Cancelar</button><button type="submit" class="btn-modal-submit" id="btnEpisodioSubmit">Subir Episodio</button></div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸŽ¬ REPRODUCTOR DE VIDEO -->
    <div class="video-player-overlay" id="videoPlayerOverlay">
        <div class="video-player-header"><h3 class="video-player-title" id="videoPlayerTitle">Video</h3><div class="video-player-controls"><button class="video-player-btn fullscreen-btn" id="videoFullscreenBtn" title="Pantalla completa">â›¶</button><button class="video-player-btn close-btn" id="videoPlayerCloseBtn" title="Cerrar">âœ•</button></div></div>
        <div class="video-player-wrapper" id="videoPlayerWrapper"><video id="videoPlayerEl" controls preload="metadata"></video></div>
        <div class="video-player-info"><p class="video-player-desc" id="videoPlayerDesc"></p><div class="video-player-meta"><span class="video-player-meta-item" id="videoPlayerViews">ðŸ‘ 0 vistas</span><span class="video-player-meta-item" id="videoPlayerDate">ðŸ“… â€”</span></div></div>
    </div>

    <!-- ðŸ”² MODAL: SUSCRIPCIÃ“N -->
    <div class="purchase-form-overlay" id="subOverlay">
        <div class="purchase-form-modal">
            <div class="purchase-header"><h3 class="purchase-title">ðŸŽ« Suscribirse al Plan</h3><button class="purchase-close" onclick="window._closeSubModal()">âœ•</button></div>
            <div class="purchase-body">
                <div class="purchase-info-card"><div class="purchase-info-row"><span class="purchase-info-label">Usuario</span><span class="purchase-info-value" id="subUser"></span></div><div class="purchase-info-row"><span class="purchase-info-label">Plan</span><span class="purchase-info-value" id="subPlanName"></span></div><div class="purchase-info-row"><span class="purchase-info-label">Precio</span><span class="purchase-info-value price" id="subPlanPrice"></span></div><div class="purchase-info-row"><span class="purchase-info-label">DuraciÃ³n</span><span class="purchase-info-value" id="subPlanDuration">30 dÃ­as</span></div></div>
                <div class="nequi-box"><div class="nequi-label">Pagar con Nequi al nÃºmero</div><div class="nequi-number">318 453 0020</div><div class="nequi-hint">Realiza la transferencia y sube el comprobante</div></div>
                <a href="#" target="_blank" class="btn-whatsapp" id="subBtnWhatsapp">ðŸ’¬ Ir a WhatsApp para confirmar</a>
                <div class="form-group"><label class="form-label">Subir comprobante de pago</label><div class="file-upload"><div class="file-upload-area" id="subCompArea"><div class="file-upload-icon">ðŸ“¸</div><div class="file-upload-text">Click para subir comprobante</div><div class="file-upload-hint">JPG, PNG â€” MÃ¡x 5MB</div></div><input type="file" id="subCompFile" accept="image/jpeg,image/png,image/webp"></div><div class="img-preview" id="subCompPreview"><img id="subCompImg" src="" alt=""></div></div>
                <div class="purchase-actions"><button type="button" class="btn-modal-cancel" onclick="window._closeSubModal()">Cancelar</button><button type="button" class="btn-send-purchase" id="btnSendSub" onclick="window._sendSubscription()">Enviar Solicitud</button></div>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: EDITAR PLAN (TODOS LOS ACCESOS) -->
<div class="modal-overlay" id="modalEditPlan">
    <div class="modal" style="max-width:560px;">
        <div class="modal-header">
            <h3 class="modal-title">âœï¸ Editar Plan</h3>
            <button class="modal-close" onclick="window._closeEditPlan()">âœ•</button>
        </div>
        <div class="modal-body">
            <form class="modal-form" id="formEditPlan">
                <input type="hidden" id="editPlanId">

                <!-- Nombre -->
                <div class="form-group">
                    <label class="form-label">Nombre del plan</label>
                    <input type="text" class="form-input" id="editPlanNombre" placeholder="Ej: Plan Premium" required>
                </div>

                <!-- Precio y DuraciÃ³n -->
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
                    <div class="form-group">
                        <label class="form-label">Precio (COP $)</label>
                        <input type="number" class="form-input" id="editPlanPrecio" min="0" step="1000" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">DuraciÃ³n (dÃ­as)</label>
                        <input type="number" class="form-input" id="editPlanDuracion" min="1" value="30" required>
                    </div>
                </div>

                <!-- Orden -->
                <div class="form-group">
                    <label class="form-label">Orden de visualizaciÃ³n</label>
                    <input type="number" class="form-input" id="editPlanOrden" min="1" value="1">
                    <span style="font-size:.68rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;display:block;">
                        NÃºmero menor = aparece primero. Ej: BÃ¡sico=1, Pro=2
                    </span>
                </div>

                <!-- Accesos incluidos - CONTENIDO -->
                <div class="form-group">
                    <label class="form-label">ðŸŽµ Contenido</label>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px;">
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccAlbumes" value="albumes" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ’¿ Ãlbumes</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccCanciones" value="canciones" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸŽµ Canciones</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccRadio" value="radio" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ“» Radio</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccVideos" value="videos" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸŽ¬ Videos</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccDocumentales" value="documentales" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸŽžï¸ Documentales</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccPlaylists" value="playlists" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸŽ¶ Playlists</span>
                        </label>
                    </div>
                </div>

                <!-- Accesos incluidos - FUNCIONES -->
                <div class="form-group">
                    <label class="form-label">âš¡ Funciones</label>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px;">
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccEnvivo" value="envivo" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ”´ En Vivo</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccChat" value="chat" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ’¬ Chat</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccSolicitarBeat" value="solicitar-beat" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ“‹ Solicitar Beat</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccHistorial" value="historial" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ“Š Historial</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccFavoritos" value="favoritos" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">â¤ï¸ Favoritos</span>
                        </label>
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);border-radius:8px;">
                            <input type="checkbox" id="editAccMarketplace" value="marketplace" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span style="font-size:.82rem;color:var(--plata-clara);">ðŸ›’ Marketplace</span>
                        </label>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-modal-cancel" onclick="window._closeEditPlan()">Cancelar</button>
                    <button type="submit" class="btn-modal-submit" id="btnEditPlanSubmit">ðŸ’¾ Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>
</div>

    <!-- ðŸ”² MODAL: CREAR/EDITAR PLAYLIST -->
    <div class="modal-overlay" id="modalPlaylist">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="plModalTitle">Nueva Playlist</h3>
                <button class="modal-close" onclick="window._closePlaylistModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <form class="modal-form" onsubmit="window._submitPlaylist(event)">
                    <input type="hidden" id="plModalEditId" value="">
                    <div class="form-group">
                        <label class="form-label">Nombre</label>
                        <input type="text" class="form-input" id="plNombre" placeholder="Mi playlist favorita" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">DescripciÃ³n (opcional)</label>
                        <textarea class="form-textarea" id="plDesc" placeholder="Describe tu playlist..." rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;">
                            <input type="checkbox" id="plPublica" style="width:18px;height:18px;accent-color:var(--acento-principal);">
                            <span class="form-label" style="margin:0;">Playlist pÃºblica</span>
                        </label>
                        <span style="font-size:.68rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;">Las playlists pÃºblicas pueden ser vistas por otros usuarios</span>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-modal-cancel" onclick="window._closePlaylistModal()">Cancelar</button>
                        <button type="submit" class="btn-modal-submit" id="plBtnSubmit"><span id="plBtnSubmitText">ðŸŽ¶ Crear Playlist</span></button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ðŸ”² MODAL: AGREGAR A PLAYLIST -->
    <div class="modal-overlay" id="modalAddToPlaylist">
        <div class="modal" style="max-width:420px;">
            <div class="modal-header">
                <h3 class="modal-title">Agregar a Playlist</h3>
                <button class="modal-close" onclick="window._closeAddToPlaylist()">âœ•</button>
            </div>
            <div class="modal-body">
                <p style="font-size:.82rem;color:var(--plata-media);margin-bottom:16px;">Selecciona una playlist:</p>
                <div id="addToPlList"></div>
            </div>
        </div>
    </div>

       <!-- ðŸŽµ MODAL: LETRAS Y CRÃ‰DITOS -->
    <div class="lyrics-overlay" id="lyricsOverlay">
        <div class="lyrics-modal">
            <div class="lyrics-modal-header">
                <div class="lyrics-modal-header-info">
                    <div class="lyrics-modal-label">LETRA & CRÃ‰DITOS</div>
                    <h3 class="lyrics-modal-title" id="lyricsTitle">â€”</h3>
                    <p class="lyrics-modal-album" id="lyricsAlbum">KXON</p>
                </div>
                <div class="lyrics-modal-header-actions">
                    <button class="lyrics-edit-btn" id="lyricsEditBtn" style="display:none">âœï¸ Editar</button>
                    <button class="lyrics-close-btn" onclick="window._closeLyrics()">âœ•</button>
                </div>
            </div>
            <div class="lyrics-modal-body">
                <div class="lyrics-tabs">
                    <button class="lyrics-tab active" onclick="window._lyricsTab('letra',this)">ðŸ“ Letra</button>
                    <button class="lyrics-tab" onclick="window._lyricsTab('creditos',this)">ðŸŽ¹ CrÃ©ditos</button>
                </div>
                <div class="lyrics-tab-content" id="lyricsTabLetra">
                    <div class="lyrics-text" id="lyricsText">
                        <div class="lyrics-empty">
                            <span class="lyrics-empty-icon">ðŸ“</span>
                            <span class="lyrics-empty-text">Letra no disponible</span>
                        </div>
                    </div>
                </div>
                <div class="lyrics-tab-content" id="lyricsTabCreditos" style="display:none">
                    <div class="credits-grid" id="creditsContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- âœï¸ MODAL: EDITAR LETRAS (Admin) -->
    <div class="lyrics-overlay" id="lyricsEditOverlay">
        <div class="lyrics-modal" style="max-width:600px;">
            <div class="lyrics-modal-header">
                <div class="lyrics-modal-header-info">
                    <div class="lyrics-modal-label">EDITAR</div>
                    <h3 class="lyrics-modal-title">Letra y CrÃ©ditos</h3>
                </div>
                <div class="lyrics-modal-header-actions">
                    <button class="lyrics-close-btn" onclick="window._closeLyricsEdit()">âœ•</button>
                </div>
            </div>
            <div class="lyrics-modal-body">
                <div class="form-group">
                    <label class="form-label">ðŸ“ Letra de la canciÃ³n</label>
                    <textarea class="form-textarea" id="editLyricsText" rows="12" placeholder="[Verso 1]&#10;Escribe la letra aquÃ­...&#10;&#10;[Coro]&#10;..."></textarea>
                    <span style="font-size:.65rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;display:block;">Usa [Verso], [Coro], [Pre-Coro], [Bridge] para secciones</span>
                </div>
                <div class="form-group"><label class="form-label">ðŸŽ¹ CrÃ©ditos de ProducciÃ³n</label></div>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">Productor</label><input type="text" class="form-input" id="editCreditProductor" placeholder="Nombre del productor"></div>
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">Compositor</label><input type="text" class="form-input" id="editCreditCompositor" placeholder="Nombre del compositor"></div>
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">Featuring</label><input type="text" class="form-input" id="editCreditFeaturing" placeholder="Artistas invitados"></div>
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">BPM</label><input type="text" class="form-input" id="editCreditBpm" placeholder="Ej: 140"></div>
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">Tonalidad</label><input type="text" class="form-input" id="editCreditTonalidad" placeholder="Ej: C Minor"></div>
                    <div class="form-group"><label class="form-label" style="font-size:.7rem;">GÃ©nero</label><input type="text" class="form-input" id="editCreditGenero" placeholder="Ej: Trap, Reggaeton"></div>
                </div>
                <div class="modal-actions" style="margin-top:20px;">
                    <button type="button" class="btn-modal-cancel" onclick="window._closeLyricsEdit()">Cancelar</button>
                    <button type="button" class="btn-modal-submit" id="btnSaveLyrics" onclick="window._saveLyrics()">ðŸ’¾ Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ðŸ“‹ MODAL: NUEVA SOLICITUD DE BEAT -->
    <div class="modal-overlay" id="modalSolicitudBeat">
        <div class="modal" style="max-width:520px;">
            <div class="modal-header">
                <h3 class="modal-title">ðŸŽµ Solicitar Beat Personalizado</h3>
                <button class="modal-close" onclick="window._closeSolicitudBeat()">âœ•</button>
            </div>
            <div class="modal-body">
                <form class="modal-form" onsubmit="window._submitSolicitudBeat(event);return false;">
                    <div class="form-group">
                        <label class="form-label">GÃ©nero musical *</label>
                        <select class="form-input" id="solBeatGenero" required>
                            <option value="">Selecciona un gÃ©nero</option>
                            <option value="Trap">Trap</option>
                            <option value="Reggaeton">Reggaeton</option>
                            <option value="Hip Hop">Hip Hop</option>
                            <option value="R&B">R&B</option>
                            <option value="Pop">Pop</option>
                            <option value="Dancehall">Dancehall</option>
                            <option value="Dembow">Dembow</option>
                            <option value="Drill">Drill</option>
                            <option value="Lo-Fi">Lo-Fi</option>
                            <option value="Afrobeat">Afrobeat</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
                        <div class="form-group">
                            <label class="form-label">BPM (opcional)</label>
                            <input type="text" class="form-input" id="solBeatBpm" placeholder="Ej: 130-140">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mood / Vibe</label>
                            <select class="form-input" id="solBeatMood">
                                <option value="">Selecciona</option>
                                <option value="Oscuro">ðŸŒ‘ Oscuro</option>
                                <option value="Agresivo">ðŸ”¥ Agresivo</option>
                                <option value="MelancÃ³lico">ðŸŒ§ MelancÃ³lico</option>
                                <option value="Fiesta">ðŸŽ‰ Fiesta</option>
                                <option value="RomÃ¡ntico">ðŸ’• RomÃ¡ntico</option>
                                <option value="Chill">ðŸ˜Ž Chill</option>
                                <option value="Ã‰pico">âš¡ Ã‰pico</option>
                                <option value="Misterioso">ðŸŒ™ Misterioso</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">DescripciÃ³n detallada *</label>
                        <textarea class="form-textarea" id="solBeatDescripcion" rows="4" placeholder="Describe lo que necesitas: estilo, instrumentos, referencia artÃ­stica, para quÃ© lo usarÃ¡s..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">CanciÃ³n de referencia (opcional)</label>
                        <input type="text" class="form-input" id="solBeatReferencia" placeholder="Link de YouTube, Spotify o nombre de la canciÃ³n">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Presupuesto aproximado</label>
                        <select class="form-input" id="solBeatPresupuesto">
                            <option value="">Selecciona</option>
                            <option value="$50.000 - $100.000">$50.000 - $100.000 COP</option>
                            <option value="$100.000 - $200.000">$100.000 - $200.000 COP</option>
                            <option value="$200.000 - $500.000">$200.000 - $500.000 COP</option>
                            <option value="$500.000+">$500.000+ COP</option>
                            <option value="Negociable">Negociable</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-modal-cancel" onclick="window._closeSolicitudBeat()">Cancelar</button>
                        <button type="submit" class="btn-modal-submit" id="btnSubmitSolBeat">ðŸŽµ Enviar Solicitud</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
   
    <!-- â”€â”€ DROPDOWN COMPARTIR â”€â”€ -->
    <div class="share-dropdown" id="shareDropdown">
        <div class="share-dropdown-title">Compartir en</div>
        <button class="share-option whatsapp" onclick="window._shareVia('whatsapp')"><span class="share-option-icon">ðŸ’¬</span><span class="share-option-label">WhatsApp</span></button>
        <button class="share-option twitter" onclick="window._shareVia('twitter')"><span class="share-option-icon">ðŸ¦</span><span class="share-option-label">Twitter / X</span></button>
        <button class="share-option facebook" onclick="window._shareVia('facebook')"><span class="share-option-icon">ðŸ“˜</span><span class="share-option-label">Facebook</span></button>
        <button class="share-option telegram" onclick="window._shareVia('telegram')"><span class="share-option-icon">âœˆï¸</span><span class="share-option-label">Telegram</span></button>
        <button class="share-option copy" onclick="window._shareVia('copy')"><span class="share-option-icon">ðŸ“‹</span><span class="share-option-label">Copiar enlace</span></button>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ðŸ“ APP LAYOUT
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="app-layout">

        <!-- â”€â”€ SIDEBAR â€” ELITE WORLD-CLASS â”€â”€ -->
<aside class="sidebar" id="sidebar">
    <div class="sidebar-ambient-top"></div>

    <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">
            <span class="sidebar-logo-text"><span>KXON</span></span>
            <span class="sidebar-logo-dot"></span>
        </a>
        <button class="sidebar-collapse-btn" id="sidebarCollapseBtn" title="Colapsar">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
    </div>

    <!-- Quick Search -->
    <div class="sidebar-quick-search">
        <div class="sidebar-search-box">
            <span class="sidebar-search-icon">
                <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            </span>
            <input type="text" class="sidebar-search-field" id="sidebarSearchField" placeholder="Buscar..." autocomplete="off">
            <span class="sidebar-search-kbd">âŒ˜K</span>
        </div>
    </div>

    <nav class="sidebar-nav" id="sidebarNav">

        <div class="nav-section-label">Principal</div>

        <div class="nav-item active" data-panel="inicio" data-tooltip="Inicio">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></span>
            <span class="nav-text">Inicio</span>
        </div>

        <div class="nav-item" data-panel="albumes" data-tooltip="Ãlbumes">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg></span>
            <span class="nav-text">Ãlbumes</span>
        </div>

        <div class="nav-item" data-panel="canciones" data-tooltip="Canciones">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg></span>
            <span class="nav-text">Canciones</span>
        </div>

        <div class="nav-item" data-panel="radio" data-tooltip="Radio">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.4"/><circle cx="12" cy="12" r="2"/><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.4"/><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19"/></svg></span>
            <span class="nav-text">Radio</span>
        </div>

        <div class="nav-item" data-panel="playlists" data-tooltip="Playlists">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M21 15V6"/><path d="M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/><path d="M12 12H3"/><path d="M16 6H3"/><path d="M12 18H3"/></svg></span>
            <span class="nav-text">Playlists</span>
        </div>

        <div class="nav-section-label">Contenido</div>

        <div class="nav-item" data-panel="videos" data-tooltip="Videos">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></svg></span>
            <span class="nav-text">Videos</span>
        </div>

        <div class="nav-item" data-panel="envivo" data-tooltip="En Vivo">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" fill="#ff4757" stroke="#ff4757" stroke-width="1"/><path d="M16 8v5a3 3 0 0 0 6 0V8" stroke="currentColor"/><path d="M2 8v5a3 3 0 0 0 6 0V8" stroke="currentColor"/></svg></span>
            <span class="nav-text">En Vivo</span>
            <span class="nav-live-dot" id="navLiveDot" style="display:none;"></span>
        </div>

        <div class="nav-item" data-panel="documentales" data-tooltip="Documentales">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg></span>
            <span class="nav-text">Documentales</span>
        </div>

        <div class="nav-item" data-panel="chat" data-tooltip="Chat">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg></span>
            <span class="nav-text">Chat</span>
            <span class="chat-unread-badge" id="chatUnreadBadge" style="display:none">0</span>
        </div>

        <div class="nav-item" data-panel="solicitar-beat" data-tooltip="Solicitar Beat">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M12 18v-6"/><path d="m9 15 3-3 3 3"/></svg></span>
            <span class="nav-text">Solicitar Beat</span>
        </div>

        <div class="nav-section-label">Tienda</div>

        <div class="nav-item" data-panel="marketplace" data-tooltip="Marketplace">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg></span>
            <span class="nav-text">Marketplace</span>
        </div>

        <div class="nav-item" data-panel="archivo" data-tooltip="Archivo">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"/></svg></span>
            <span class="nav-text">Archivo</span>
        </div>

        <div class="nav-item" data-panel="planes" data-tooltip="Planes">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg></span>
            <span class="nav-text">Planes</span>
        </div>

        <div class="nav-item" data-panel="historial" data-tooltip="Historial">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M3 3v5h5"/><path d="M3.05 13A9 9 0 1 0 6 5.3L3 8"/><path d="M12 7v5l4 2"/></svg></span>
            <span class="nav-text">Historial</span>
        </div>

        <div class="nav-section-label">Cuenta</div>

        <div class="nav-item" data-panel="favoritos" data-tooltip="Favoritos">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg></span>
            <span class="nav-text">Favoritos</span>
        </div>

        <div class="nav-item" data-panel="perfil" data-tooltip="Mi Perfil">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg></span>
            <span class="nav-text">Perfil</span>
        </div>

        <div class="nav-item nav-admin-only" data-panel="analytics" data-tooltip="Analytics">
            <span class="nav-icon"><svg viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/></svg></span>
            <span class="nav-text">Analytics</span>
        </div>

    </nav>

    <div class="sidebar-footer">
        <div class="sidebar-user" id="sidebarUserCard">
            <div class="sidebar-avatar" id="sidebarAvatar">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
            </div>
            <div class="sidebar-user-info">
                <div class="sidebar-user-name" id="sidebarName">...</div>
                <div class="sidebar-user-role" id="sidebarRole">...</div>
            </div>
            <button class="btn-logout-small" id="btnLogout" title="Cerrar sesiÃ³n">
                <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
            </button>
        </div>
    </div>
</aside>

                <!-- ðŸ  PANEL: INICIO -->
                <div class="panel active" id="panel-inicio">
                    <div class="panel-header">
                        <h1 class="panel-title">Bienvenido a KXON</h1>
                        <p class="panel-desc">Tu resumen de la plataforma</p>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card"><div class="stat-icon">ðŸ’¿</div><div class="stat-value" id="statAlbumes">0</div><div class="stat-label">Ãlbumes</div></div>
                        <div class="stat-card"><div class="stat-icon">ðŸŽµ</div><div class="stat-value" id="statCanciones">0</div><div class="stat-label">Canciones</div></div>
                        <div class="stat-card"><div class="stat-icon">ðŸ›’</div><div class="stat-value" id="statBeats">0</div><div class="stat-label">Beats</div></div>
                        <div class="stat-card"><div class="stat-icon">ðŸ“°</div><div class="stat-value" id="statNoticias">0</div><div class="stat-label">Noticias</div></div>
                    </div>

                    <!-- BotÃ³n global limpiar -->
                    <div id="inicioClearAllWrap" style="display:none;margin-bottom:24px;"></div>

                    <!-- SecciÃ³n Noticias -->
                    <div class="panel-section" id="inicioNoticiasWrap">
                        <div class="inicio-section-header"></div>
                        <div class="content-grid" id="inicioNoticias"></div>
                    </div>

                    <!-- SecciÃ³n Canciones -->
                    <div class="panel-section" id="inicioCancionesWrap">
                        <div class="inicio-section-header"></div>
                        <div class="track-list" id="inicioCanciones"></div>
                    </div>

                    <!-- SecciÃ³n Ãlbumes -->
                    <div class="panel-section" id="inicioAlbumesWrap">
                        <div class="inicio-section-header"></div>
                        <div class="content-grid content-grid-albums" id="inicioAlbumes"></div>
                    </div>
                </div>

                <!-- ðŸ’¿ PANEL: ÃLBUMES -->
                <div class="panel" id="panel-albumes">
                    <div id="albumesListView">
                        <div class="panel-header">
                            <h1 class="panel-title">Ãlbumes</h1>
                            <p class="panel-desc">DiscografÃ­a completa de KXON</p>
                        </div>
                        <div class="content-grid content-grid-albums" id="albumesGrid">
                            <div class="empty-state">
                                <div class="empty-icon">ðŸ’¿</div>
                                <div class="empty-title">Cargando Ã¡lbumes...</div>
                            </div>
                        </div>
                    </div>
                    <div class="album-detail" id="albumDetailView">
                        <button class="btn-back" id="btnBackAlbums">â† Volver a Ãlbumes</button>
                        <div class="album-detail-header">
                            <div class="album-detail-cover">
                                <img id="albumDetailCover" src="" alt="">
                            </div>
                            <div class="album-detail-info">
                                <div class="album-detail-label">ÃLBUM</div>
                                <h1 class="album-detail-title" id="albumDetailTitle"></h1>
                                <p class="album-detail-desc" id="albumDetailDesc"></p>
                                <span class="album-detail-meta" id="albumDetailMeta"></span>
                                <div id="albumReleaseInfoWrap"></div>
                            </div>
                        </div>
                        <div class="section-header-row">
                            <div class="panel-section-title">ðŸŽµ Canciones</div>
                            <button class="btn-add-track nav-admin-only" id="btnAddTrack">
                                <span>+</span> Agregar CanciÃ³n
                            </button>
                        </div>
                        <div class="track-list" id="trackList">
                            <div class="empty-state">
                                <div class="empty-icon">ðŸŽµ</div>
                                <div class="empty-title">Sin canciones aÃºn</div>
                            </div>
                        </div>
                    </div>
                </div>

                             <!-- ðŸ“» PANEL: RADIO -->
                <div class="panel" id="panel-radio">

                    <!-- â•â• HERO RADIO â•â• -->
                    <div class="radio-hero">
                        <div class="radio-hero-bg"></div>
                        <div class="radio-hero-particles">
                            <div class="radio-particle"></div>
                            <div class="radio-particle"></div>
                            <div class="radio-particle"></div>
                            <div class="radio-particle"></div>
                            <div class="radio-particle"></div>
                            <div class="radio-particle"></div>
                        </div>
                        <div class="radio-hero-ambient" id="radioAmbient"></div>

                        <div class="radio-hero-inner">
                            <!-- Columna izquierda: Vinilo -->
                            <div class="radio-vinyl-stage">
                                <div class="radio-vinyl-glow" id="radioVinylGlow"></div>
                                <div class="radio-vinyl-wrapper">
                                    <div class="radio-vinyl" id="radioDisc">
                                        <div class="radio-vinyl-img-wrap">
                                            <img class="radio-vinyl-img" id="radioDiscImg" src="" alt="">
                                        </div>
                                        <div class="radio-vinyl-fallback" id="radioDiscFallback">
                                            <span class="radio-vinyl-fallback-note">â™ª</span>
                                            <span class="radio-vinyl-fallback-text">KXON</span>
                                        </div>
                                        <div class="radio-vinyl-overlay"></div>
                                        <div class="radio-vinyl-grooves"></div>
                                        <div class="radio-vinyl-label">
                                            <div class="radio-vinyl-label-inner">
                                                <span class="radio-vinyl-label-brand">KXON</span>
                                                <span class="radio-vinyl-label-rpm">33 RPM</span>
                                            </div>
                                        </div>
                                        <div class="radio-vinyl-shine"></div>
                                    </div>
                                </div>
                                <!-- Tonearm -->
                                <div class="radio-arm" id="radioTonearm">
                                    <div class="radio-arm-pivot"></div>
                                    <div class="radio-arm-bar"></div>
                                    <div class="radio-arm-head">
                                        <div class="radio-arm-needle"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Columna derecha: Info + Controles -->
                            <div class="radio-control-panel">
                                <!-- Badge estaciÃ³n -->
                                <div class="radio-station">
                                    <div class="radio-station-dial">
                                        <span class="radio-station-freq">98.7</span>
                                        <span class="radio-station-unit">FM</span>
                                    </div>
                                    <div class="radio-station-info">
                                        <span class="radio-station-name">KXON RADIO</span>
                                        <span class="radio-station-tagline">Exclusivo Â· Sin lÃ­mites</span>
                                    </div>
                                </div>

                                <!-- Status -->
                                <div class="radio-on-air" id="radioOnAir">
                                    <span class="radio-on-air-dot"></span>
                                    <span class="radio-on-air-text">ON AIR</span>
                                    <span class="radio-on-air-live">LIVE</span>
                                </div>

                                <!-- Track info -->
                                <div class="radio-now-playing">
                                    <div class="radio-now-label">REPRODUCIENDO</div>
                                    <h2 class="radio-now-title" id="radioTrackTitle">Selecciona una canciÃ³n</h2>
                                    <p class="radio-now-album" id="radioTrackAlbum">KXON Radio</p>
                                </div>

                                <!-- Visualizador -->
                                <div class="radio-visualizer" id="radioWave">
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                    <div class="radio-viz-bar"></div><div class="radio-viz-bar"></div>
                                </div>

                                <!-- Progress -->
                                <div class="radio-progress-section">
                                    <span class="radio-time" id="radioCurrentTime">0:00</span>
                                    <div class="radio-progress-bar" id="radioProgressBar">
                                        <div class="radio-progress-track"></div>
                                        <div class="radio-progress-fill" id="radioProgressFill"></div>
                                        <div class="radio-progress-glow" id="radioProgressGlow"></div>
                                    </div>
                                    <span class="radio-time" id="radioDuration">0:00</span>
                                </div>

                                <!-- Controles -->
                                <div class="radio-controls">
                                    <button class="radio-ctrl shuffle-btn" id="radioShuffle" title="Aleatorio">ðŸ”€</button>
                                    <button class="radio-ctrl nav-btn" id="radioPrev" title="Anterior">â®</button>
                                    <button class="radio-main-play" id="radioPlayBtn" title="Play/Pause">
                                        <span class="radio-main-play-icon" id="radioPlayIcon">â–¶</span>
                                        <div class="radio-main-play-pulse"></div>
                                        <div class="radio-main-play-pulse p2"></div>
                                        <div class="radio-main-play-pulse p3"></div>
                                    </button>
                                    <button class="radio-ctrl nav-btn" id="radioNext" title="Siguiente">â­</button>
                                    <div class="radio-ctrl" style="visibility:hidden;">_</div>
                                </div>

                                <!-- Volumen -->
                                <div class="radio-volume-section">
                                    <span class="radio-vol-icon" id="radioVolIcon">ðŸ”Š</span>
                                    <div class="radio-volume-bar" id="radioVolumeBar">
                                        <div class="radio-volume-fill" id="radioVolumeFill" style="width:70%">
                                            <div class="radio-volume-thumb"></div>
                                        </div>
                                    </div>
                                    <span class="radio-vol-pct" id="radioVolPct">70%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- â•â• COLA DE REPRODUCCIÃ“N â•â• -->
                    <div class="radio-queue-section">
                        <div class="radio-queue-header">
                            <div class="radio-queue-header-left">
                                <div class="radio-queue-icon-wrap">
                                    <div class="radio-queue-icon-eq">
                                        <div class="rqi-bar"></div><div class="rqi-bar"></div><div class="rqi-bar"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="radio-queue-title-text">Cola de ReproducciÃ³n</div>
                                    <span class="radio-queue-count" id="radioQueueCount">0 canciones en cola</span>
                                </div>
                            </div>
                        </div>
                        <div class="radio-queue-list" id="radioQueueList">
                            <div class="empty-state"><div class="empty-icon">ðŸŽµ</div><div class="empty-title">Cargando radio...</div></div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŽµ PANEL: CANCIONES -->
                <div class="panel" id="panel-canciones">
                    <div class="panel-header">
                        <h1 class="panel-title">Todas las Canciones</h1>
                        <p class="panel-desc">Biblioteca completa de mÃºsica KXON</p>
                    </div>
                    <div class="track-list" id="allCancionesList">
                        <div class="empty-state">
                            <div class="empty-icon">ðŸŽµ</div>
                            <div class="empty-title">Cargando canciones...</div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŽ¶ PANEL: PLAYLISTS -->
                <div class="panel" id="panel-playlists">
                    <div id="plListView">
                        <div class="panel-header">
                            <h1 class="panel-title">Mis Playlists</h1>
                            <p class="panel-desc">Tus listas de reproducciÃ³n personalizadas</p>
                        </div>
                        <div class="pl-grid" id="playlistsGrid">
                            <div class="empty-state"><div class="empty-icon">ðŸŽ¶</div><div class="empty-title">Cargando playlists...</div></div>
                        </div>
                    </div>
                    <div class="pl-detail" id="plDetailView">
                        <button class="btn-back" onclick="window._backToPlaylists()">â† Volver a Playlists</button>
                        <div class="pl-detail-header">
                            <div class="pl-detail-cover"><img id="plDetailCover" src="" alt=""></div>
                            <div class="pl-detail-info">
                                <div class="pl-detail-label">Playlist</div>
                                <h1 class="pl-detail-title" id="plDetailTitle"></h1>
                                <p class="pl-detail-desc" id="plDetailDesc"></p>
                                <span class="pl-detail-meta" id="plDetailMeta">0 canciones</span>
                                <div class="pl-detail-actions">
                                    <button class="pl-detail-btn pl-btn-play" onclick="window._playAllPlaylist()">â–¶ Reproducir</button>
                                    <button class="pl-detail-btn pl-btn-shuffle" onclick="window._shufflePlaylist()">ðŸ”€ Aleatorio</button>
                                    <button class="pl-detail-btn pl-btn-edit" onclick="window._openEditPlaylist()">âœï¸ Editar</button>
                                </div>
                            </div>
                        </div>
                        <div class="panel-section-title">ðŸŽµ Canciones</div>
                        <div class="track-list" id="plTrackList">
                            <div class="empty-state"><div class="empty-icon">ðŸŽµ</div><div class="empty-title">Playlist vacÃ­a</div></div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŽ¬ PANEL: VIDEOS -->
                <div class="panel" id="panel-videos"><div class="panel-header"><h1 class="panel-title">Videos</h1><p class="panel-desc">Contenido audiovisual exclusivo de KXON</p></div><div class="videos-grid" id="videosGrid"><div class="empty-state"><div class="empty-icon">ðŸŽ¬</div><div class="empty-title">Cargando videos...</div></div></div></div>

                <!-- ðŸ”´ PANEL: EN VIVO -->
                <div class="panel" id="panel-envivo">
                    <div class="panel-header">
                        <h1 class="panel-title">ðŸ”´ En Vivo</h1>
                        <p class="panel-desc">Transmisiones en directo exclusivas de KXON</p>
                    </div>
                    <div id="liveActiveSection" style="display:none;">
                        <div class="live-banner">
                            <div class="live-banner-pulse"></div>
                            <div class="live-banner-content">
                                <div class="live-badge-big"><span class="live-dot-anim"></span>EN VIVO</div>
                                <h2 class="live-stream-title" id="liveStreamTitle">KXON en directo</h2>
                                <div class="live-meta-row">
                                    <span class="live-viewers" id="liveViewerCount"><span class="live-viewers-icon">ðŸ‘</span><span class="live-viewers-num" id="liveViewersNum">0</span><span>viendo ahora</span></span>
                                    <span class="live-duration" id="liveDuration">â± Iniciado hace 0 min</span>
                                </div>
                            </div>
                        </div>
                        <div class="live-player-wrapper">
                            <div class="live-player-container" id="livePlayerContainer">
                                <iframe id="liveIframe" src="" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                            </div>
                        </div>
                        <div class="live-info-section"><div class="live-description" id="liveDescription"></div></div>
                        <div class="live-chat-section" id="liveChatSection" style="display:none;">
                            <div class="live-chat-header"><span class="live-chat-title">ðŸ’¬ Chat en vivo</span><button class="live-chat-toggle" id="liveChatToggle" onclick="window._toggleLiveChat()">Ocultar</button></div>
                            <div class="live-chat-container" id="liveChatContainer"><iframe id="liveChatIframe" src="" width="100%" height="100%" frameborder="0"></iframe></div>
                        </div>
                    </div>
                    <div id="liveOfflineSection">
                        <div class="live-offline-card">
                            <div class="live-offline-icon">ðŸ“º</div>
                            <h2 class="live-offline-title">No hay transmisiÃ³n en vivo</h2>
                            <p class="live-offline-desc">Cuando KXON inicie una transmisiÃ³n en directo, aparecerÃ¡ aquÃ­ automÃ¡ticamente. Te enviaremos una notificaciÃ³n.</p>
                            <div class="live-offline-last" id="liveOfflineLast"></div>
                        </div>
                    </div>
                    <div class="live-admin-section nav-admin-only" id="liveAdminSection" style="display:none;">
                        <div class="panel-section-title">âš™ï¸ Control de TransmisiÃ³n (Admin)</div>
                        <div class="live-admin-card">
                            <div class="live-admin-status" id="liveAdminStatus"><span class="live-admin-status-dot offline"></span><span>Estado: <strong id="liveAdminStatusText">Offline</strong></span></div>
                            <form class="live-admin-form" id="formLiveConfig">
                                <div class="form-group"><label class="form-label">ID del video de YouTube</label><input type="text" class="form-input" id="liveYoutubeId" placeholder="Ej: dQw4w9WgXcQ o URL completa"><span style="font-size:.68rem;color:var(--plata-oscura);font-style:italic;margin-top:4px;display:block;">Pega el ID o la URL completa del video de YouTube</span></div>
                                <div class="form-group"><label class="form-label">TÃ­tulo del directo</label><input type="text" class="form-input" id="liveTitle" placeholder="Ej: KXON Session en vivo #12"></div>
                                <div class="form-group"><label class="form-label">DescripciÃ³n (opcional)</label><textarea class="form-textarea" id="liveDesc" placeholder="DescripciÃ³n del directo..." rows="3"></textarea></div>
                                <div class="form-group"><label style="display:flex;align-items:center;gap:10px;cursor:pointer;"><input type="checkbox" id="liveIncludeChat" style="width:18px;height:18px;accent-color:var(--acento-principal);"><span class="form-label" style="margin:0;">Incluir chat de YouTube</span></label></div>
                                <div class="live-admin-actions">
                                    <button type="button" class="live-btn-start" id="btnGoLive" onclick="window._goLive()">ðŸ”´ Iniciar En Vivo</button>
                                    <button type="button" class="live-btn-stop" id="btnStopLive" onclick="window._stopLive()" style="display:none;">â¹ Terminar TransmisiÃ³n</button>
                                </div>
                            </form>
                            <div class="live-admin-history"><div class="panel-section-title" style="font-size:.72rem;margin-top:20px;">ðŸ“‹ Ãšltimas transmisiones</div><div id="liveHistory"></div></div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŽžï¸ PANEL: DOCUMENTALES -->
                <div class="panel" id="panel-documentales">
                    <div id="docuListView"><div class="panel-header"><h1 class="panel-title">Documentales</h1><p class="panel-desc">Series documentales exclusivas â€” Cada documental con sus episodios</p></div><div class="docu-grid" id="docuGrid"><div class="empty-state"><div class="empty-icon">ðŸŽžï¸</div><div class="empty-title">Cargando documentales...</div></div></div></div>
                    <div class="docu-detail" id="docuDetailView"><button class="btn-back" id="btnBackDocu">â† Volver a Documentales</button><div class="docu-detail-header"><div class="docu-detail-cover"><img id="docuDetailCover" src="" alt=""></div><div class="docu-detail-info"><h1 class="docu-detail-title" id="docuDetailTitle"></h1><p class="docu-detail-desc" id="docuDetailDesc"></p><span class="docu-detail-meta" id="docuDetailMeta"></span></div></div><div class="section-header-row"><div class="panel-section-title">ðŸŽ¬ Episodios</div><button class="btn-add-track" id="btnAddEpisodio"><span>+</span> Agregar Episodio</button></div><div class="episodio-list" id="episodioList"><div class="empty-state"><div class="empty-icon">ðŸŽ¬</div><div class="empty-title">Sin episodios</div></div></div></div>
                </div>

                <!-- ðŸ›’ PANEL: MARKETPLACE -->
                <div class="panel" id="panel-marketplace">
                    <div class="panel-header"><h1 class="panel-title">Marketplace</h1><p class="panel-desc">Beats y canciones exclusivas para artistas</p></div>
                    <div class="market-tabs"><div class="market-tab active" data-market-tab="beat" onclick="window._marketTab('beat')">ðŸŽ¹ Beats</div><div class="market-tab" data-market-tab="cancion" onclick="window._marketTab('cancion')">ðŸŽ¤ Canciones</div></div>
                    <div class="market-grid" id="marketGrid"></div>
                    <div class="solicitudes-section" id="solicitudesSection" style="display:none;"><div class="panel-section-title">ðŸ“‹ Solicitudes de Compra</div><div id="solicitudesList"></div></div>
                </div>

                <!-- ðŸ“ PANEL: ARCHIVO -->
                <div class="panel" id="panel-archivo">
                    <div class="panel-header"><h1 class="panel-title">Mi Archivo</h1><p class="panel-desc">Tus beats y canciones compradas â€” Descarga y escucha sin lÃ­mites</p></div>
                    <div class="archivo-stats"><div class="archivo-stat-card"><div class="archivo-stat-icon">ðŸŽµ</div><div class="archivo-stat-value" id="archivoStatTotal">0</div><div class="archivo-stat-label">Total comprados</div></div><div class="archivo-stat-card"><div class="archivo-stat-icon">ðŸŽ¹</div><div class="archivo-stat-value" id="archivoStatBeats">0</div><div class="archivo-stat-label">Beats</div></div><div class="archivo-stat-card"><div class="archivo-stat-icon">ðŸŽ¤</div><div class="archivo-stat-value" id="archivoStatCanciones">0</div><div class="archivo-stat-label">Canciones</div></div><div class="archivo-stat-card"><div class="archivo-stat-icon">ðŸ’°</div><div class="archivo-stat-value" id="archivoStatInvertido">$0</div><div class="archivo-stat-label">Invertido</div></div></div>
                    <div class="archivo-tabs"><div class="archivo-tab active" data-archivo-tab="todos" onclick="window._archivoTab('todos')">ðŸ“¦ Todos</div><div class="archivo-tab" data-archivo-tab="beat" onclick="window._archivoTab('beat')">ðŸŽ¹ Beats</div><div class="archivo-tab" data-archivo-tab="cancion" onclick="window._archivoTab('cancion')">ðŸŽ¤ Canciones</div></div>
                    <div class="archivo-grid" id="archivoGrid"><div class="empty-state"><div class="empty-icon">ðŸ“</div><div class="empty-title">Cargando archivo...</div></div></div>
                    <div class="archivo-pending-section" id="archivoPendingSection" style="display:none;"><div class="panel-section-title">â³ Solicitudes Pendientes</div><p class="panel-desc" style="margin-bottom:16px;">Estas compras estÃ¡n esperando confirmaciÃ³n del administrador</p><div id="archivoPendingList"></div></div>
                </div>

                <!-- ðŸŽ« PANEL: PLANES -->
                <div class="panel" id="panel-planes">
                    <div class="panel-header"><h1 class="panel-title">Planes de SuscripciÃ³n</h1><p class="panel-desc">Accede a todo el contenido exclusivo de KXON</p></div>
                    <div class="planes-grid" id="planesGrid"><div class="empty-state"><div class="empty-icon">ðŸŽ«</div><div class="empty-title">Cargando planes...</div></div></div>
                    <div class="solicitudes-section" id="subSolicitudesSection" style="display:none;"><div class="panel-section-title">ðŸ“‹ Solicitudes de SuscripciÃ³n</div><div id="subSolicitudesList"></div></div>
                </div>

                <!-- ðŸ“Š PANEL: HISTORIAL -->
                <div class="panel" id="panel-historial">
                    <div class="panel-header">
                        <h1 class="panel-title">Historial de Reproducciones</h1>
                        <p class="panel-desc">Tu actividad musical reciente</p>
                    </div>
                    <div class="historial-stats">
                        <div class="historial-stat">
                            <div class="historial-stat-value" id="histStatTotal">0</div>
                            <div class="historial-stat-label">Total reproducidas</div>
                        </div>
                        <div class="historial-stat">
                            <div class="historial-stat-value" id="histStatHoy">0</div>
                            <div class="historial-stat-label">Hoy</div>
                        </div>
                        <div class="historial-stat">
                            <div class="historial-stat-value" id="histStatSemana">0</div>
                            <div class="historial-stat-label">Esta semana</div>
                        </div>
                        <div class="historial-stat">
                            <div class="historial-stat-value" id="histStatUnicas">0</div>
                            <div class="historial-stat-label">Canciones Ãºnicas</div>
                        </div>
                    </div>
                    <div class="historial-header-actions">
                        <button class="historial-clear-btn" id="btnClearHistorial" onclick="window._clearHistorial()">
                            ðŸ—‘ Borrar historial
                        </button>
                    </div>
                    <div id="historialList">
                        <div class="empty-state">
                            <div class="empty-icon">ðŸ“Š</div>
                            <div class="empty-title">Cargando historial...</div>
                        </div>
                    </div>
                </div>

                <!-- â¤ï¸ PANEL: FAVORITOS -->
                <div class="panel" id="panel-favoritos">
                    <div class="panel-header"><h1 class="panel-title">Mis Favoritos</h1><p class="panel-desc">Tu colecciÃ³n personal de contenido favorito</p></div>
                    <div class="favs-tabs">
                        <div class="favs-tab active" data-favs-tab="todos" onclick="window._favsTab('todos')">â¤ï¸ Todos</div>
                        <div class="favs-tab" data-favs-tab="cancion" onclick="window._favsTab('cancion')">ðŸŽµ Canciones</div>
                        <div class="favs-tab" data-favs-tab="album" onclick="window._favsTab('album')">ðŸ’¿ Ãlbumes</div>
                        <div class="favs-tab" data-favs-tab="beat" onclick="window._favsTab('beat')">ðŸŽ¹ Beats</div>
                        <div class="favs-tab" data-favs-tab="video" onclick="window._favsTab('video')">ðŸŽ¬ Videos</div>
                    </div>
                    <div class="favs-stat" id="favsStat"></div>
                    <div id="favsContent" class="content-grid content-grid-albums"></div>
                </div>

                <!-- ðŸ“Š PANEL: ANALYTICS (Admin) -->
                <div class="panel" id="panel-analytics"></div>

                                <!-- ðŸ’¬ PANEL: CHAT -->
                <div class="panel" id="panel-chat">
                    <div class="panel-header">
                        <h1 class="panel-title">ðŸ’¬ Chat KXON</h1>
                        <p class="panel-desc">Habla en tiempo real con la comunidad</p>
                    </div>
                    <div class="chat-container">
                        <div class="chat-header-bar">
                            <div class="chat-header-left">
                                <div class="chat-header-dot"></div>
                                <span class="chat-header-status">Chat General</span>
                            </div>
                            <div class="chat-header-right">
                                <span class="chat-header-online">ðŸŸ¢ En lÃ­nea</span>
                            </div>
                        </div>
                        <div class="chat-messages" id="chatMessagesList">
                            <div class="chat-empty">
                                <div class="chat-empty-icon">ðŸ’¬</div>
                                <div class="chat-empty-title">Cargando chat...</div>
                            </div>
                        </div>
                        <div class="chat-input-section">
                            <div class="chat-input-wrap">
                                <textarea class="chat-input" id="chatInput" placeholder="Escribe un mensaje..." rows="1" maxlength="500"></textarea>
                                <button class="chat-send-btn" id="chatSendBtn" title="Enviar">
                                    <span class="chat-send-icon">âž¤</span>
                                </button>
                            </div>
                            <div class="chat-input-footer">
                                <span class="chat-char-count" id="chatCharCount">0/500</span>
                                <span class="chat-input-hint">Enter para enviar Â· Shift+Enter nueva lÃ­nea</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ðŸ“‹ PANEL: SOLICITAR BEAT -->
                <div class="panel" id="panel-solicitar-beat">
                    <div class="panel-header">
                        <h1 class="panel-title">ðŸ“‹ Solicitar Beat Personalizado</h1>
                        <p class="panel-desc">Describe el beat que necesitas y te lo producimos</p>
                    </div>
                    <div class="sol-beat-actions-top">
                        <button class="sol-beat-new-btn" onclick="window._openSolicitudBeat()">
                            <span>ðŸŽµ</span> Nueva Solicitud
                        </button>
                    </div>
                    <div class="panel-section-title">ðŸ“¦ Mis Solicitudes</div>
                    <div id="solicitudesBeatsGrid">
                        <div class="empty-state">
                            <div class="empty-icon">ðŸ“‹</div>
                            <div class="empty-title">Cargando solicitudes...</div>
                        </div>
                    </div>
                </div>
                
                <!-- ðŸ‘¤ PANEL: PERFIL -->
                <div class="panel" id="panel-perfil">
                    <div class="panel-header"><h1 class="panel-title">Mi Perfil</h1><p class="panel-desc">Gestiona tu informaciÃ³n personal y configuraciÃ³n de cuenta</p></div>
                    <div class="perfil-section"><div class="perfil-section-header"><span class="perfil-section-icon">ðŸ‘¤</span><div><h3 class="perfil-section-title">InformaciÃ³n Personal</h3><p class="perfil-section-desc">Tu foto, nombre y biografÃ­a</p></div></div>
                        <div class="perfil-card"><div class="perfil-avatar-section"><div class="perfil-avatar-wrapper"><div class="perfil-avatar" id="perfilAvatar"><img id="perfilAvatarImg" src="" alt="" style="display:none;"><span id="perfilAvatarLetter" class="perfil-avatar-letter">K</span></div><div class="perfil-avatar-overlay" id="perfilAvatarOverlay"><span>ðŸ“·</span><span class="perfil-avatar-overlay-text">Cambiar</span></div><input type="file" id="perfilAvatarFile" accept="image/jpeg,image/png,image/webp" style="display:none;"></div><div class="perfil-avatar-info"><div class="perfil-nombre-display" id="perfilNombreDisplay">Cargando...</div><div class="perfil-role-badge" id="perfilRoleBadge">fan</div><div class="perfil-email-display" id="perfilEmailDisplay">...</div></div></div><div class="perfil-divider"></div>
                            <form class="perfil-form" id="formPerfil"><div class="perfil-form-grid"><div class="form-group"><label class="form-label">Nombre Completo</label><input type="text" class="form-input" id="perfilNombre" placeholder="Tu nombre artÃ­stico o real"></div><div class="form-group"><label class="form-label">Email</label><input type="email" class="form-input perfil-input-disabled" id="perfilEmail" disabled><span class="perfil-field-hint">El email no se puede cambiar</span></div></div><div class="form-group"><label class="form-label">BiografÃ­a</label><textarea class="form-textarea" id="perfilBio" placeholder="CuÃ©ntanos sobre ti..." rows="4"></textarea><span class="perfil-field-hint perfil-bio-counter"><span id="perfilBioCount">0</span>/500 caracteres</span></div><div class="perfil-form-actions"><button type="submit" class="perfil-btn-save" id="btnGuardarPerfil"><span id="btnGuardarPerfilText">ðŸ’¾ Guardar Cambios</span></button><span class="perfil-save-status" id="perfilSaveStatus"></span></div></form>
                        </div>
                    </div>
                    <div class="perfil-section"><div class="perfil-section-header"><span class="perfil-section-icon">ðŸ”’</span><div><h3 class="perfil-section-title">Seguridad</h3><p class="perfil-section-desc">Cambia tu contraseÃ±a</p></div></div>
                        <div class="perfil-card"><form class="perfil-form" id="formPassword"><div class="perfil-form-grid"><div class="form-group"><label class="form-label">Nueva ContraseÃ±a</label><div class="perfil-password-wrapper"><input type="password" class="form-input" id="perfilNewPass" placeholder="MÃ­nimo 6 caracteres" minlength="6"><button type="button" class="perfil-pass-toggle" onclick="window._togglePerfilPass('perfilNewPass', this)">ðŸ‘ï¸</button></div></div><div class="form-group"><label class="form-label">Confirmar ContraseÃ±a</label><div class="perfil-password-wrapper"><input type="password" class="form-input" id="perfilConfirmPass" placeholder="Repite la contraseÃ±a" minlength="6"><button type="button" class="perfil-pass-toggle" onclick="window._togglePerfilPass('perfilConfirmPass', this)">ðŸ‘ï¸</button></div></div></div><div class="perfil-form-actions"><button type="submit" class="perfil-btn-save perfil-btn-password" id="btnCambiarPass"><span id="btnCambiarPassText">ðŸ”‘ Cambiar ContraseÃ±a</span></button></div></form></div>
                    </div>
                    <div class="perfil-section"><div class="perfil-section-header"><span class="perfil-section-icon">âš™ï¸</span><div><h3 class="perfil-section-title">Cuenta</h3><p class="perfil-section-desc">InformaciÃ³n de tu cuenta y opciones avanzadas</p></div></div>
                        <div class="perfil-card"><div class="perfil-cuenta-grid"><div class="perfil-cuenta-item"><div class="perfil-cuenta-label">Rol</div><div class="perfil-cuenta-value" id="perfilCuentaRol">fan</div></div><div class="perfil-cuenta-item"><div class="perfil-cuenta-label">Miembro desde</div><div class="perfil-cuenta-value" id="perfilCuentaFecha">...</div></div><div class="perfil-cuenta-item"><div class="perfil-cuenta-label">ID de usuario</div><div class="perfil-cuenta-value perfil-cuenta-id" id="perfilCuentaId">...</div></div><div class="perfil-cuenta-item"><div class="perfil-cuenta-label">Proveedor</div><div class="perfil-cuenta-value" id="perfilCuentaProvider">email</div></div></div><div class="perfil-divider"></div><div class="perfil-danger-zone"><div class="perfil-danger-header"><span class="perfil-danger-icon">âš ï¸</span><div><div class="perfil-danger-title">Zona de Peligro</div><div class="perfil-danger-desc">Esta acciÃ³n no se puede deshacer</div></div></div><button type="button" class="perfil-btn-delete" id="btnEliminarCuenta">ðŸ—‘ï¸ Eliminar mi cuenta</button></div></div>
                    </div>
                </div>

            </div><!-- /content-area -->
        </main>
    </div><!-- /app-layout -->

    <!-- ðŸŽ¶ PLAYER BAR (Minimizado) -->
    <div class="player-bar" id="playerBar">
        <div class="player-cover" id="playerBarClickZone"><img id="playerCover" src="" alt=""></div>
        <div class="player-info" id="playerInfoClickZone"><div class="player-title" id="playerTitle">â€”</div><div class="player-artist">KXON</div></div>
        <div class="player-expand-hint" id="playerExpandHint"><span class="player-expand-arrow">â–²</span><span>Expandir</span></div>
        <div class="player-controls"><button class="player-btn" id="playerPrev">â®</button><button class="player-btn play-pause" id="playerPlayPause">â–¶</button><button class="player-btn" id="playerNext">â­</button></div>
        <div class="player-progress"><span class="player-time" id="playerCurrentTime">0:00</span><div class="progress-bar" id="progressBar"><div class="progress-fill" id="progressFill"></div></div><span class="player-time" id="playerDuration">0:00</span></div>
        <div class="player-volume"><span style="font-size:.8rem;cursor:pointer" id="playerVolIcon">ðŸ”Š</span><div class="volume-bar" id="volumeBar"><div class="volume-fill" id="volumeFill"></div></div></div>
        <div class="player-fav-share">
            <button class="btn-fav" id="playerFavBtn" onclick="window._togglePlayerFav()" title="Favorito"><span>ðŸ¤</span><span class="fav-burst"></span></button>
            <button class="btn-share" id="playerShareBtn" onclick="window._shareFromPlayer(event)" title="Compartir">â†—</button>
        </div>
        <button class="player-close-btn" id="playerCloseBtn" title="Cerrar reproductor">âœ•</button>
    </div>

    <!-- ðŸŽµ PLAYER EXPANDIDO -->
    <div class="player-expanded-overlay" id="playerExpanded">
        <div class="player-expanded-bg" id="playerExpBg"></div>
        <div class="player-expanded-bg-overlay"></div>
        <div class="player-exp-swipe"><div class="player-exp-swipe-bar"></div></div>
        <div class="player-exp-header">
            <button class="player-exp-minimize" id="playerExpMinimize" title="Minimizar">â–¼</button>
            <span class="player-exp-source" id="playerExpSource">REPRODUCIENDO</span>
            <button class="player-exp-menu" id="playerExpMenuBtn" title="Opciones">â‹¯</button>
        </div>
        <div class="player-exp-content" id="playerExpContent">
            <div class="player-exp-cover-wrapper">
                <div class="player-exp-cover" id="playerExpCoverBox">
                    <img id="playerExpCoverImg" src="" alt="">
                </div>
                <div class="player-exp-vinyl" id="playerExpVinyl">
                    <div class="player-exp-vinyl-label">
                        <div class="player-exp-vinyl-hole"></div>
                        <span class="player-exp-vinyl-label-text">KXON</span>
                    </div>
                </div>
            </div>
            <div class="player-exp-track-info">
                <div class="player-exp-title" id="playerExpTitle">â€”</div>
                <div class="player-exp-artist" id="playerExpArtist">KXON</div>
                <div class="player-exp-eq" id="playerExpEq">
                    <div class="player-exp-eq-bar"></div>
                    <div class="player-exp-eq-bar"></div>
                    <div class="player-exp-eq-bar"></div>
                    <div class="player-exp-eq-bar"></div>
                    <div class="player-exp-eq-bar"></div>
                </div>
            </div>
            <div class="player-exp-progress">
                <div class="player-exp-progress-bar" id="playerExpProgressBar">
                    <div class="player-exp-progress-fill" id="playerExpProgressFill">
                        <div class="player-exp-progress-thumb"></div>
                    </div>
                </div>
                <div class="player-exp-times">
                    <span class="player-exp-time" id="playerExpCurrentTime">0:00</span>
                    <span class="player-exp-time" id="playerExpDuration">0:00</span>
                </div>
            </div>
            <div class="player-exp-controls">
                <button class="player-exp-btn player-exp-btn-sm" id="playerExpShuffle" title="Aleatorio">ðŸ”€</button>
                <button class="player-exp-btn player-exp-btn-md" id="playerExpPrev" title="Anterior">â®</button>
                <button class="player-exp-btn player-exp-btn-play" id="playerExpPlayPause" title="Play/Pause">â–¶</button>
                <button class="player-exp-btn player-exp-btn-md" id="playerExpNext" title="Siguiente">â­</button>
                <button class="player-exp-btn player-exp-btn-sm" id="playerExpRepeat" title="Repetir">ðŸ”</button>
            </div>
            <div class="player-exp-volume">
                <button class="player-exp-vol-icon" id="playerExpVolIcon">ðŸ”Š</button>
                <div class="player-exp-vol-bar" id="playerExpVolBar">
                    <div class="player-exp-vol-fill" id="playerExpVolFill" style="width:70%"></div>
                </div>
                <span class="player-exp-vol-pct" id="playerExpVolPct">70%</span>
            </div>
            <div class="player-exp-actions">
                <button class="player-exp-action" id="playerExpFav" onclick="window._togglePlayerFav()" title="Favorito">ðŸ¤</button>
                <button class="player-exp-action" id="playerExpAddPl" onclick="window._addCurrentToPlaylist()" title="Agregar a playlist">âž•</button>
                                <button class="player-exp-action" id="playerExpLyrics" title="Ver letra">ðŸ“</button>
                <button class="player-exp-action" id="playerExpShare" onclick="window._shareFromPlayer(event)" title="Compartir">â†—ï¸</button>
            </div>
        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <!-- ðŸ“¦ SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-config.js"></script>
    <script src="js/dashboard-noticias.js"></script>
    <script src="js/dashboard-sidebar.js"></script>
    <script src="js/dashboard-init.js"></script>
    <script src="js/dashboard-albumes.js"></script>
     <script src="js/dashboard-historial.js"></script> 
    <script src="js/dashboard-radio.js"></script>
    <script src="js/dashboard-marketplace.js"></script>
    <script src="js/dashboard-archivo.js"></script>
    <script src="js/dashboard-historial.js"></script>
    <script src="js/dashboard-videos.js"></script>
    <script src="js/dashboard-perfil.js"></script>
    <script src="js/dashboard-planes.js"></script>
    <script src="js/dashboard-modals.js"></script>
    <script src="js/dashboard-search.js"></script>
    <script src="js/dashboard-notifications.js"></script>
    <script src="js/dashboard-favs-share.js"></script>
    <script src="js/dashboard-analytics.js"></script>
    <script src="js/dashboard-comments.js"></script>
    <script src="js/dashboard-playlists.js"></script>
        <script src="js/dashboard-envivo.js"></script>
        <script src="js/dashboard-chat.js"></script>
    <script src="js/dashboard-lyrics.js"></script>
    <script src="js/dashboard-solicitudes-beats.js"></script>
        <script src="js/dashboard-player-expanded.js"></script>

    <!-- ðŸ“± PWA Service Worker Registration -->
    <script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
            navigator.serviceWorker.register('/sw.js').then(function (reg) {
                console.log('âœ… KXON SW registered:', reg.scope);
            }).catch(function (err) {
                console.warn('âš ï¸ KXON SW failed:', err);
            });
        });
    }
    </script>

<!-- ðŸ”§ FIX: Event delegation global -->
<script>
(function() {

    /* â”€â”€ Lyrics tabs â”€â”€ */
    window._lyricsTab = function(tab, btn) {
        var tabs = document.querySelectorAll('.lyrics-tab');
        for (var i = 0; i < tabs.length; i++) tabs[i].classList.remove('active');
        if (btn) btn.classList.add('active');
        var letraTab = document.getElementById('lyricsTabLetra');
        var creditosTab = document.getElementById('lyricsTabCreditos');
        if (tab === 'letra') {
            if (letraTab) letraTab.style.display = 'block';
            if (creditosTab) creditosTab.style.display = 'none';
        } else {
            if (letraTab) letraTab.style.display = 'none';
            if (creditosTab) creditosTab.style.display = 'block';
        }
    };

    /* â”€â”€ Event delegation â”€â”€ */
    document.body.addEventListener('click', function(e) {
        var addTrack = e.target.closest('#btnAddTrack');
        if (addTrack) {
            e.preventDefault();
            e.stopPropagation();
            if (window.KXON && window.KXON.openModal) {
                window.KXON.openModal('modalCancion');
            }
            return;
        }
        var addEp = e.target.closest('#btnAddEpisodio');
        if (addEp) {
            e.preventDefault();
            e.stopPropagation();
            if (window.KXON && window.KXON.openModal) {
                window.KXON.openModal('modalEpisodio');
            }
            return;
        }
        var backAlb = e.target.closest('#btnBackAlbums');
        if (backAlb) {
            e.preventDefault();
            e.stopPropagation();
            var listView = document.getElementById('albumesListView');
            var detailView = document.getElementById('albumDetailView');
            if (listView) listView.style.display = 'block';
            if (detailView) detailView.classList.remove('show');
            return;
        }
        var backDoc = e.target.closest('#btnBackDocu');
        if (backDoc) {
            e.preventDefault();
            e.stopPropagation();
            var docList = document.getElementById('docuListView');
            var docDetail = document.getElementById('docuDetailView');
            if (docList) docList.style.display = 'block';
            if (docDetail) docDetail.classList.remove('show');
            return;
        }
    });

})();
</script>
</body>
</html>